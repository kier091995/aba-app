{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../providers/post-provider.service\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nexport let RegisterPage = /*#__PURE__*/(() => {\n  class RegisterPage {\n    constructor(router, postPvd, toastController, plt, menuCtrl, location) {\n      this.router = router;\n      this.postPvd = postPvd;\n      this.toastController = toastController;\n      this.plt = plt;\n      this.menuCtrl = menuCtrl;\n      this.location = location;\n    }\n\n    ngOnInit() {\n      $('#role').on('change', function () {\n        if ($(this).val() == 'Supervisor') {\n          $('#subtype').show();\n        } else {\n          $('#subtype').hide();\n        }\n      });\n    }\n\n    ionViewWillEnter() {\n      this.menuCtrl.enable(false);\n    }\n\n    openForgotPassword() {\n      this.router.navigateByUrl('/forgot-password');\n    }\n\n    openLogin() {\n      this.router.navigateByUrl('/login');\n    }\n\n    onSubmit(fn, ln, email) {\n      var count = 0;\n      var ths = [];\n      $('.requiredreg').each(function () {\n        if ($(this).val() == \"\") {\n          count++;\n          ths.push($(this));\n        } // console.log('x');\n\n      });\n\n      if ($('#role').val() == 'Supervisor') {\n        if ($('#subtype').val() == 'Role subtype') {\n          count++;\n          ths.push($(\"#subtype\"));\n        }\n      }\n\n      console.log(count);\n\n      if (count == 0) {\n        if (this.plt.is('ios')) {\n          this.ptname = 'ios';\n        } else if (this.plt.is('android')) {\n          this.ptname = 'android';\n        } else {\n          this.ptname = 'APP';\n        }\n\n        return new Promise(resolve => {\n          let body = {\n            action: 'Register',\n            code: $('#role').find(':selected').attr('data-code'),\n            ctype: $('#role').val(),\n            subtype: $('#subtype').val(),\n            fn: fn,\n            ln: ln,\n            email: email,\n            phone: $('#phone').val(),\n            platname: this.ptname\n          };\n          console.log(localStorage.getItem(\"HOMELINK\"));\n          this.postPvd.postData(body, localStorage.getItem(\"HOMELINK\")).subscribe(data => {\n            if (data['status'] == \"Success\") {\n              this.openToasts('<center>' + data['msg'] + '<center>');\n              $('input[type=\"text\"], input[type=\"tel\"], select').val('');\n              setTimeout(() => {\n                // this.router.navigateByUrl('/login', {state: {'from': 'register'}});\n                // this.router.navigate(['/login']);\n                this.location.back();\n              }, 3000);\n            } else {\n              this.openToaste('<center>' + data['msg'] + '<center>');\n            }\n          });\n        });\n      } else {\n        this.openToaste('<center>This field is required.</center>');\n        ths[0].focus();\n        ths[0].css({\n          \"border\": '#FF0000 1px solid'\n        });\n        setTimeout(function () {\n          ths[0].removeAttr('style');\n        }, 5000);\n      }\n    }\n\n    openToasts(msg) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const toast = yield this.toastController.create({\n          message: msg,\n          duration: 2000,\n          color: 'success'\n        });\n        toast.present();\n      });\n    }\n\n    openToaste(msg) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const toast = yield this.toastController.create({\n          message: msg,\n          duration: 2000,\n          color: 'danger'\n        });\n        toast.present();\n      });\n    }\n\n  }\n\n  RegisterPage.ɵfac = function RegisterPage_Factory(t) {\n    return new (t || RegisterPage)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.PostProviderService), i0.ɵɵdirectiveInject(i3.ToastController), i0.ɵɵdirectiveInject(i3.Platform), i0.ɵɵdirectiveInject(i3.MenuController), i0.ɵɵdirectiveInject(i4.Location));\n  };\n\n  RegisterPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegisterPage,\n    selectors: [[\"app-register\"]],\n    decls: 42,\n    vars: 0,\n    consts: [[1, \"loginbg\"], [1, \"box\", 3, \"submit\"], [\"col-6\", \"\"], [1, \"divimg\"], [\"src\", \"/assets/fieldtracking.png\", 1, \"imgloginlogo\"], [\"id\", \"role\", 1, \"requiredreg\"], [\"value\", \"\"], [\"value\", \"Supervisor\", \"data-code\", \"0f90840f722482888e9da6d7363e28741c24a12f\"], [\"id\", \"subtype\", 2, \"display\", \"none\"], [\"type\", \"text\", \"placeholder\", \"First name\", 1, \"requiredreg\"], [\"fn\", \"\"], [\"type\", \"text\", \"placeholder\", \"Last name\", 1, \"requiredreg\"], [\"ln\", \"\"], [\"type\", \"text\", \"placeholder\", \"Email\", 1, \"requiredreg\", \"email\"], [\"email\", \"\"], [\"type\", \"tel\", \"id\", \"phone\", \"placeholder\", \"Phone #\", \"maxlength\", \"10\", 1, \"requiredreg\", \"phone\"], [\"type\", \"submit\", \"value\", \"Register\"], [\"col-6\", \"\", 1, \"padbot\"], [1, \"forgotbtn\", 3, \"click\"]],\n    template: function RegisterPage_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r3 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"ion-content\", 0);\n        i0.ɵɵelementStart(1, \"form\", 1);\n        i0.ɵɵlistener(\"submit\", function RegisterPage_Template_form_submit_1_listener() {\n          i0.ɵɵrestoreView(_r3);\n\n          const _r0 = i0.ɵɵreference(26);\n\n          const _r1 = i0.ɵɵreference(28);\n\n          const _r2 = i0.ɵɵreference(30);\n\n          return ctx.onSubmit(_r0.value, _r1.value, _r2.value);\n        });\n        i0.ɵɵelementStart(2, \"ion-grid\");\n        i0.ɵɵelementStart(3, \"ion-row\");\n        i0.ɵɵelementStart(4, \"ion-col\", 2);\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵelement(6, \"img\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"h1\");\n        i0.ɵɵtext(8, \"Register\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"select\", 5);\n        i0.ɵɵelementStart(10, \"option\", 6);\n        i0.ɵɵtext(11, \"Role Category\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"option\", 7);\n        i0.ɵɵtext(13, \"Supervisor\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"select\", 8);\n        i0.ɵɵelementStart(15, \"option\");\n        i0.ɵɵtext(16, \"Role subtype\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"option\");\n        i0.ɵɵtext(18, \"BCBA\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"option\");\n        i0.ɵɵtext(20, \"BCaBA Supervisor\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"option\");\n        i0.ɵɵtext(22, \"BCBA Compliance Coordinator\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"option\");\n        i0.ɵɵtext(24, \"BCaBA Compliance Coordinator\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"input\", 9, 10);\n        i0.ɵɵelement(27, \"input\", 11, 12);\n        i0.ɵɵelement(29, \"input\", 13, 14);\n        i0.ɵɵelement(31, \"input\", 15);\n        i0.ɵɵelement(32, \"input\", 16);\n        i0.ɵɵelement(33, \"br\");\n        i0.ɵɵelementStart(34, \"ion-col\", 17);\n        i0.ɵɵelementStart(35, \"a\", 18);\n        i0.ɵɵlistener(\"click\", function RegisterPage_Template_a_click_35_listener() {\n          return ctx.openLogin();\n        });\n        i0.ɵɵtext(36, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(37, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(38, \" | \");\n        i0.ɵɵelementStart(39, \"ion-col\", 17);\n        i0.ɵɵelementStart(40, \"a\", 18);\n        i0.ɵɵlistener(\"click\", function RegisterPage_Template_a_click_40_listener() {\n          return ctx.openForgotPassword();\n        });\n        i0.ɵɵtext(41, \"Forgot Password?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n    },\n    directives: [i3.IonContent, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i3.IonGrid, i3.IonRow, i3.IonCol, i5.NgSelectOption, i5.ɵNgSelectMultipleOption],\n    styles: [\"@font-face{font-family:Poetsen One;font-style:normal;font-weight:300;font-display:swap;src:url(/assets/fonts/PoetsenOne-Regular.ttf)}.no-scroll[_ngcontent-%COMP%]{--overflow:hidden}.loginbg[_ngcontent-%COMP%]{--background:#fff}ion-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border-radius:2px;padding:120px 5px 5px}.box[_ngcontent-%COMP%], ion-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center}.box[_ngcontent-%COMP%]{width:300px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#202945;font-weight:500;font-family:Poetsen One;margin-top:0}.box[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .box[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%], .box[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:none;display:block;margin:20px auto;text-align:center;border:2px solid #202945;padding:14px 10px;width:240px;outline:none;color:#000;border-radius:24px;transition:.25s;font-family:Poetsen One}.box[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus, .box[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]:focus, .box[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{width:248px;border-color:#ffb444}.box[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{border:0;background-color:#202945;text-align:center;padding:14px 40px;color:#ffb444;border-radius:24px;text-transform:uppercase;font-family:Poetsen One;margin:0 auto 20px;font-weight:900}.imgloginlogo[_ngcontent-%COMP%]{width:80%;margin:0 auto}.divimg[_ngcontent-%COMP%]{background-color:initial!important;border:none!important;border-radius:2px;padding:5px;text-align:center}.padbot[_ngcontent-%COMP%]{padding-bottom:60px}.no-scroll[_ngcontent-%COMP%]{overflow-y:auto!important}\"]\n  });\n  return RegisterPage;\n})();","map":null,"metadata":{},"sourceType":"module"}