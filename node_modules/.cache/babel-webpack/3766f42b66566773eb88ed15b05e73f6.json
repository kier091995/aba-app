{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../providers/post-provider.service\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nexport let RegisterPage = /*#__PURE__*/(() => {\n  class RegisterPage {\n    constructor(router, postPvd, toastController, plt, menuCtrl, location) {\n      this.router = router;\n      this.postPvd = postPvd;\n      this.toastController = toastController;\n      this.plt = plt;\n      this.menuCtrl = menuCtrl;\n      this.location = location;\n    }\n\n    ngOnInit() {\n      $('#role').on('change', function () {\n        if ($(this).val() == 'Supervisor') {\n          $('#subtype').show();\n        } else {\n          $('#subtype').hide();\n        }\n      });\n\n      if (this.plt.is('ios')) {\n        var ptname = 'ios';\n      } else if (this.plt.is('android')) {\n        var ptname = 'android';\n      } else {\n        var ptname = 'APP';\n      }\n\n      $('body').on('click', '#register', function () {\n        $(this).attr('disabled', 'true');\n        var count = 0;\n        var ths = [];\n        $('.requiredreg').each(function () {\n          if ($(this).val() == \"\") {\n            count++;\n            ths.push($(this));\n          } // console.log('x');\n\n        });\n\n        if ($('#role').val() == 'Supervisor') {\n          if ($('#subtype').val() == 'Role subtype') {\n            count++;\n            ths.push($(\"#subtype\"));\n          }\n        }\n\n        console.log(count);\n\n        if (count == 0) {\n          var link1 = localStorage.getItem(\"HOMELINK\");\n          var link = link1.slice(0, -1) + 'WithEmails/Register';\n          $.ajax({\n            url: link,\n            type: 'POST',\n            dataType: 'json',\n            data: {\n              action: 'save',\n              'code': $('#role').find(':selected').attr('data-code'),\n              'ctype': $('#role').val(),\n              'subtype': $('#subtype').val(),\n              'fn': $('#fn').val(),\n              'ln': $('#ln').val(),\n              'email': $('#email').val(),\n              'phone': $('#phone').val(),\n              'platname': ptname\n            },\n            success: function (data) {\n              if (data['status'] == \"Success\") {\n                jsopenToasts('<center>' + data['msg'] + '<center>');\n                setTimeout(function () {\n                  console.log('back');\n                  $('input[type=\"text\"], input[type=\"tel\"], select').val('');\n                  $('#register').removeAttr('disabled');\n                  $('#login').click();\n                }, 3000);\n              } else {\n                jsopenToaste('<center> ' + data['msg'] + ' <center>');\n              }\n            }\n          });\n        } else {\n          $('#register').removeAttr('disabled');\n          jsopenToaste('<center>All field are required.</center>');\n          ths[0].focus();\n          ths[0].css({\n            \"border\": '#FF0000 1px solid'\n          });\n          setTimeout(function () {\n            ths[0].removeAttr('style');\n          }, 5000);\n        }\n      });\n\n      function jsopenToasts(msg) {\n        return __awaiter(this, void 0, void 0, function* () {\n          const toast = document.createElement('ion-toast');\n          toast.message = '<center>' + msg + '</center>';\n          toast.duration = 2000;\n          toast.color = 'success';\n          document.body.appendChild(toast);\n          return toast.present();\n        });\n      }\n\n      function jsopenToaste(msg) {\n        return __awaiter(this, void 0, void 0, function* () {\n          const toast = document.createElement('ion-toast');\n          toast.message = '<center>' + msg + '</center>';\n          toast.duration = 2000;\n          toast.color = 'danger';\n          document.body.appendChild(toast);\n          return toast.present();\n        });\n      }\n    }\n\n    ionViewWillEnter() {\n      this.menuCtrl.enable(false);\n    }\n\n    openForgotPassword() {\n      this.router.navigateByUrl('/forgot-password');\n    }\n\n    openLogin() {\n      this.router.navigateByUrl('/login');\n    } // ptname: string;\n    // onSubmit(fn, ln, email){\n    // \tvar count = 0;\n    // \tvar ths = [];\n    // \t$('.requiredreg').each(function(){\n    // \t\tif($(this).val() == \"\")\n    // \t\t{\n    // \t\t\tcount++;\n    // \t\t\tths.push($(this))\n    // \t\t}\n    // \t\t// console.log('x');\n    // \t});\n    // \tif($('#role').val() == 'Supervisor')\n    // \t{\n    // \t\tif($('#subtype').val() == 'Role subtype')\n    // \t\t{\n    // \t\t\tcount++;\n    // \t\t\tths.push($(\"#subtype\"));\n    // \t\t}\n    // \t}\n    // \tconsole.log(count)\n    // \tif(count == 0)\n    // \t{\n    // \t\tif (this.plt.is('ios')) {\n    // \t\t\tthis.ptname = 'ios';\n    // \t\t}\n    // \t\telse if(this.plt.is('android')) {\n    // \t\t\tthis.ptname = 'android';\n    // \t\t}\n    // \t\telse{\n    // \t\t\tthis.ptname = 'APP';\n    // \t\t}\n    // \t\treturn new Promise(resolve => {\n    // \t\t\tlet body = {\n    // \t\t\t\taction: 'Register',\n    // \t\t\t\tcode: $('#role').find(':selected').attr('data-code'),\n    // \t\t\t\tctype: $('#role').val(),\n    // \t\t\t\tsubtype: $('#subtype').val(),\n    // \t\t\t\tfn: fn,\n    // \t\t\t\tln: ln,\n    // \t\t\t\temail: email,\n    // \t\t\t\tphone: $('#phone').val(),\n    // \t\t\t\tplatname: this.ptname,\n    // \t\t\t};\n    // \t\t\tconsole.log(localStorage.getItem(\"HOMELINK\"));\n    // \t\t\tthis.postPvd.postData(body, localStorage.getItem(\"HOMELINK\")).subscribe(data => {\n    // \t\t\t\tif (data['status'] == \"Success\") {\n    // \t\t\t\t\tthis.openToasts('<center>'+data['msg']+'<center>');\n    // \t\t\t\t\t$('input[type=\"text\"], input[type=\"tel\"], select').val('');\n    // \t\t\t\t\tconsole.log(data['send']);\n    // \t\t\t\t\tsetTimeout(()=>{\n    // \t\t\t\t\t\t// this.router.navigateByUrl('/login', {state: {'from': 'register'}});\n    // \t\t\t\t\t\t// this.router.navigate(['/login']);\n    // \t\t\t\t\t\tthis.location.back();\n    // \t\t\t\t\t}, 3000);\n    // \t\t\t\t}\n    // \t\t\t\telse {\n    // \t\t\t\t\tthis.openToaste('<center>'+data['msg']+'<center>');\n    // \t\t\t\t}\n    // \t\t\t})\n    // \t\t})\n    // \t}\n    // \telse{\n    // \t\tthis.openToaste('<center>This field is required.</center>');\n    // \t\tths[0].focus();\n    // \t\tths[0].css({ \"border\": '#FF0000 1px solid' });\n    // \t\tsetTimeout(function(){\n    // \t\t\tths[0].removeAttr('style');\n    // \t\t},5000);\n    // \t}\n    // }\n\n\n    openToasts(msg) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const toast = yield this.toastController.create({\n          message: msg,\n          duration: 2000,\n          color: 'success'\n        });\n        toast.present();\n      });\n    }\n\n    openToaste(msg) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const toast = yield this.toastController.create({\n          message: msg,\n          duration: 2000,\n          color: 'danger'\n        });\n        toast.present();\n      });\n    }\n\n  }\n\n  RegisterPage.ɵfac = function RegisterPage_Factory(t) {\n    return new (t || RegisterPage)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.PostProviderService), i0.ɵɵdirectiveInject(i3.ToastController), i0.ɵɵdirectiveInject(i3.Platform), i0.ɵɵdirectiveInject(i3.MenuController), i0.ɵɵdirectiveInject(i4.Location));\n  };\n\n  RegisterPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegisterPage,\n    selectors: [[\"app-register\"]],\n    decls: 39,\n    vars: 0,\n    consts: [[1, \"loginbg\"], [1, \"box\"], [\"col-6\", \"\"], [1, \"divimg\"], [\"src\", \"/assets/fieldtracking.png\", 1, \"imgloginlogo\"], [\"id\", \"role\", 1, \"requiredreg\"], [\"value\", \"\"], [\"value\", \"RBT\", \"data-code\", \"c75bd20cfe2ae235f95f4171455547d921a4b3e2\"], [\"id\", \"subtype\", 2, \"display\", \"none\"], [\"type\", \"text\", \"id\", \"fn\", \"placeholder\", \"First name\", 1, \"requiredreg\"], [\"type\", \"text\", \"id\", \"ln\", \"placeholder\", \"Last name\", 1, \"requiredreg\"], [\"type\", \"text\", \"id\", \"email\", \"placeholder\", \"Email\", 1, \"requiredreg\", \"email\"], [\"type\", \"tel\", \"id\", \"phone\", \"placeholder\", \"Phone #\", \"maxlength\", \"10\", 1, \"requiredreg\", \"phone\"], [\"type\", \"button\", \"id\", \"register\", \"value\", \"Register\"], [\"col-6\", \"\", 1, \"padbot\"], [\"id\", \"login\", 1, \"forgotbtn\", 3, \"click\"], [1, \"forgotbtn\", 3, \"click\"]],\n    template: function RegisterPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-content\", 0);\n        i0.ɵɵelementStart(1, \"form\", 1);\n        i0.ɵɵelementStart(2, \"ion-grid\");\n        i0.ɵɵelementStart(3, \"ion-row\");\n        i0.ɵɵelementStart(4, \"ion-col\", 2);\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵelement(6, \"img\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"h1\");\n        i0.ɵɵtext(8, \"Register\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"select\", 5);\n        i0.ɵɵelementStart(10, \"option\", 6);\n        i0.ɵɵtext(11, \"Role Category\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"option\", 7);\n        i0.ɵɵtext(13, \"RBT\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"select\", 8);\n        i0.ɵɵelementStart(15, \"option\");\n        i0.ɵɵtext(16, \"Role subtype\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"option\");\n        i0.ɵɵtext(18, \"BCBA\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"option\");\n        i0.ɵɵtext(20, \"BCaBA Supervisor\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"option\");\n        i0.ɵɵtext(22, \"BCBA Compliance Coordinator\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"option\");\n        i0.ɵɵtext(24, \"BCaBA Compliance Coordinator\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"input\", 9);\n        i0.ɵɵelement(26, \"input\", 10);\n        i0.ɵɵelement(27, \"input\", 11);\n        i0.ɵɵelement(28, \"input\", 12);\n        i0.ɵɵelement(29, \"input\", 13);\n        i0.ɵɵelement(30, \"br\");\n        i0.ɵɵelementStart(31, \"ion-col\", 14);\n        i0.ɵɵelementStart(32, \"a\", 15);\n        i0.ɵɵlistener(\"click\", function RegisterPage_Template_a_click_32_listener() {\n          return ctx.openLogin();\n        });\n        i0.ɵɵtext(33, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(34, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(35, \" | \");\n        i0.ɵɵelementStart(36, \"ion-col\", 14);\n        i0.ɵɵelementStart(37, \"a\", 16);\n        i0.ɵɵlistener(\"click\", function RegisterPage_Template_a_click_37_listener() {\n          return ctx.openForgotPassword();\n        });\n        i0.ɵɵtext(38, \"Forgot Password?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n    },\n    directives: [i3.IonContent, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i3.IonGrid, i3.IonRow, i3.IonCol, i5.NgSelectOption, i5.ɵNgSelectMultipleOption],\n    styles: [\"@font-face{font-family:Poetsen One;font-style:normal;font-weight:300;font-display:swap;src:url(/assets/fonts/PoetsenOne-Regular.ttf)}.no-scroll[_ngcontent-%COMP%]{--overflow:hidden}.loginbg[_ngcontent-%COMP%]{--background:#fff}ion-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border-radius:2px;padding:120px 5px 5px}.box[_ngcontent-%COMP%], ion-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center}.box[_ngcontent-%COMP%]{width:300px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#202945;font-weight:500;font-family:Poetsen One;margin-top:0}.box[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .box[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%], .box[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:none;display:block;margin:20px auto;text-align:center;border:2px solid #202945;padding:14px 10px;width:240px;outline:none;color:#000;border-radius:24px;transition:.25s;font-family:Poetsen One}.box[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus, .box[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]:focus, .box[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{width:248px;border-color:#ffb444}.box[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{border:0;background-color:#202945;text-align:center;padding:14px 40px;color:#ffb444;border-radius:24px;text-transform:uppercase;font-family:Poetsen One;margin:0 auto 20px;font-weight:900}.imgloginlogo[_ngcontent-%COMP%]{width:80%;margin:0 auto}.divimg[_ngcontent-%COMP%]{background-color:initial!important;border:none!important;border-radius:2px;padding:5px;text-align:center}.padbot[_ngcontent-%COMP%]{padding-bottom:60px}.no-scroll[_ngcontent-%COMP%]{overflow-y:auto!important}\"]\n  });\n  return RegisterPage;\n})();","map":null,"metadata":{},"sourceType":"module"}