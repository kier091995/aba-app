{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../providers/post-provider.service\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"src/app/app.component\";\nimport * as i5 from \"@angular/common\";\n\nfunction ProfilePage_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"ion-button\", 9);\n    i0.ɵɵlistener(\"click\", function ProfilePage_div_19_Template_ion_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.createCompany();\n    });\n    i0.ɵɵtext(2, \"Create Company\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-button\", 9);\n    i0.ɵɵlistener(\"click\", function ProfilePage_div_19_Template_ion_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.createVisor();\n    });\n    i0.ɵɵtext(4, \"Create Supervisor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProfilePage_div_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"ion-item\");\n    i0.ɵɵelementStart(2, \"ion-label\", 21);\n    i0.ɵɵtext(3, \"Account ID:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"ion-input\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-item\");\n    i0.ɵɵelementStart(6, \"ion-label\", 21);\n    i0.ɵɵtext(7, \"Certification No:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"ion-input\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"ion-item\");\n    i0.ɵɵelementStart(10, \"ion-label\", 21);\n    i0.ɵɵtext(11, \"Qualification:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"ion-input\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"ion-item\");\n    i0.ɵɵelementStart(14, \"ion-label\", 21);\n    i0.ɵɵtext(15, \"Date Qualified to Supervise:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"ion-input\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"ion-item\");\n    i0.ɵɵelementStart(18, \"ion-label\", 21);\n    i0.ɵɵtext(19, \"Date Supervision Contract:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"ion-input\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.supid);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.cert);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.quali);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.dquali);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.dsuper);\n  }\n}\n\nfunction ProfilePage_div_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"ion-item\", 14);\n    i0.ɵɵelement(2, \"ion-icon\", 23);\n    i0.ɵɵelementStart(3, \"ion-label\", 16);\n    i0.ɵɵtext(4, \"No data available..\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProfilePage_ng_template_55_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"ion-item\", 14);\n    i0.ɵɵelement(2, \"ion-icon\", 25);\n    i0.ɵɵelementStart(3, \"ion-label\", 16);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const i_r11 = ctx.index;\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r9.companies[i_r11]);\n  }\n}\n\nfunction ProfilePage_ng_template_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, ProfilePage_ng_template_55_div_0_Template, 5, 1, \"div\", 24);\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.companies);\n  }\n}\n\nfunction ProfilePage_ion_card_57_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"ion-item\", 14);\n    i0.ɵɵelement(2, \"ion-icon\", 23);\n    i0.ɵɵelementStart(3, \"ion-label\", 16);\n    i0.ɵɵtext(4, \"No data available..\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProfilePage_ion_card_57_ng_template_6_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"ion-item\", 14);\n    i0.ɵɵelement(2, \"ion-icon\", 27);\n    i0.ɵɵelementStart(3, \"ion-label\", 16);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const s_r17 = ctx.index;\n    const ctx_r15 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r15.supervisors[s_r17]);\n  }\n}\n\nfunction ProfilePage_ion_card_57_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, ProfilePage_ion_card_57_ng_template_6_div_0_Template, 5, 1, \"div\", 24);\n  }\n\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r14.supervisors);\n  }\n}\n\nfunction ProfilePage_ion_card_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\");\n    i0.ɵɵelementStart(1, \"ion-list\");\n    i0.ɵɵelementStart(2, \"ion-list-header\");\n    i0.ɵɵelementStart(3, \"ion-label\");\n    i0.ɵɵtext(4, \"Attached Supervisors\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, ProfilePage_ion_card_57_div_5_Template, 5, 0, \"div\", 19);\n    i0.ɵɵtemplate(6, ProfilePage_ion_card_57_ng_template_6_Template, 1, 1, \"ng-template\", null, 26, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r13 = i0.ɵɵreference(7);\n\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.suplng == 0)(\"ngIfElse\", _r13);\n  }\n}\n\nexport let ProfilePage = /*#__PURE__*/(() => {\n  class ProfilePage {\n    constructor(router, postPvd, toastController, menuCtrl, someComponent) {\n      this.router = router;\n      this.postPvd = postPvd;\n      this.toastController = toastController;\n      this.menuCtrl = menuCtrl;\n      this.someComponent = someComponent;\n    }\n\n    ngOnInit() {}\n\n    ionViewDidEnter() {\n      this.menuCtrl.enable(true);\n    }\n\n    ionViewWillEnter() {\n      this.menuCtrl.enable(true);\n      this.fetchDetails();\n      this.fetchCompany();\n      this.fetchSupervisors();\n      this.someComponent.theFunction();\n    }\n\n    fetchDetails() {\n      return new Promise(resolve => {\n        let body = {\n          action: 'fetchDetails',\n          ucode: localStorage.getItem(\"UCODE\")\n        };\n        this.postPvd.postData(body, localStorage.getItem(\"HOMELINK\")).subscribe(data => {\n          if (data['status'] == \"success\") {\n            // this.openToasts('<center>Success!</center>');\n            this.email = data['email'];\n            this.contact = data['contact'];\n            this.address = data['address'];\n            this.address1 = data['address1'];\n            this.city = data['city'];\n            this.state = data['state'];\n            this.zipcode = data['zipcode'];\n            this.supid = data['supid'];\n            this.cert = data['cert'];\n            this.quali = data['quali'];\n            this.dquali = data['dquali'];\n            this.dsuper = data['dsuper'];\n            this.name = data['name'];\n            this.type = data['categoryName'];\n          } else {\n            this.openToaste('<center>Error Occured!</center>');\n          }\n        });\n      });\n    }\n\n    fetchCompany() {\n      return new Promise(resolve => {\n        let body = {\n          action: 'fetchCompany',\n          ucode: localStorage.getItem(\"UCODE\"),\n          utype: localStorage.getItem(\"UTYPE\")\n        };\n        this.postPvd.postData(body, localStorage.getItem(\"HOMELINK\")).subscribe(data => {\n          if (data['status'] == \"success\") {\n            // this.openToasts('<center>Success!</center>');\n            this.companies = data['companies'];\n            this.comlng = this.companies.length;\n          } else {\n            this.openToaste('<center>Error Occured!</center>');\n          }\n        });\n      });\n    }\n\n    fetchSupervisors() {\n      return new Promise(resolve => {\n        let body = {\n          action: 'fetchSupervisors',\n          ucode: localStorage.getItem(\"UCODE\")\n        };\n        this.postPvd.postData(body, localStorage.getItem(\"HOMELINK\")).subscribe(data => {\n          if (data['status'] == \"success\") {\n            // this.openToasts('<center>Success!</center>');\n            this.supervisors = data['supervisors'];\n            this.suplng = this.supervisors.length;\n          } else {\n            this.openToaste('<center>Error Occured!</center>');\n          }\n        });\n      });\n    }\n\n    openToasts(msg) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const toast = yield this.toastController.create({\n          message: msg,\n          duration: 2000,\n          color: 'success'\n        });\n        toast.present();\n      });\n    }\n\n    openToaste(msg) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const toast = yield this.toastController.create({\n          message: msg,\n          duration: 2000,\n          color: 'danger'\n        });\n        toast.present();\n      });\n    }\n\n    editProfile() {\n      this.router.navigateByUrl('/profile-edit');\n    }\n\n    createCompany() {\n      this.router.navigateByUrl('/create-company');\n    }\n\n    createVisor() {\n      this.router.navigateByUrl('/create-supervisors');\n    }\n\n    updatePass() {\n      this.router.navigateByUrl('/update-password');\n    }\n\n    doRefresh(event) {\n      setTimeout(() => {\n        this.fetchDetails();\n        this.fetchCompany();\n        this.fetchSupervisors();\n        event.target.complete();\n      }, 2000);\n    }\n\n  }\n\n  ProfilePage.ɵfac = function ProfilePage_Factory(t) {\n    return new (t || ProfilePage)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.PostProviderService), i0.ɵɵdirectiveInject(i3.ToastController), i0.ɵɵdirectiveInject(i3.MenuController), i0.ɵɵdirectiveInject(i4.AppComponent));\n  };\n\n  ProfilePage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProfilePage,\n    selectors: [[\"app-profile\"]],\n    decls: 58,\n    vars: 14,\n    consts: [[\"slot\", \"start\"], [\"autoHide\", \"false\"], [1, \"padtop\"], [\"slot\", \"fixed\", 3, \"ionRefresh\"], [1, \"divimg\"], [\"src\", \"assets/profilelogo.png\", 1, \"imgprofile\"], [1, \"divname\"], [1, \"name\"], [1, \"divbtns\"], [\"size\", \"small\", \"color\", \"primary\", 3, \"click\"], [4, \"ngIf\"], [1, \"details\"], [3, \"click\"], [\"color\", \"secondary\", \"name\", \"create-outline\"], [1, \"ion-no-padding\"], [\"name\", \"at-outline\"], [1, \"ion-text-wrap\"], [\"name\", \"call-outline\"], [\"name\", \"home-outline\", 1, \"topicon\"], [4, \"ngIf\", \"ngIfElse\"], [\"conditionCompFalse\", \"\"], [\"position\", \"stacked\"], [\"readonly\", \"\", 3, \"value\"], [\"name\", \"alert-circle-outline\"], [4, \"ngFor\", \"ngForOf\"], [\"name\", \"briefcase-outline\"], [\"conditionFalse\", \"\"], [\"name\", \"person-outline\"]],\n    template: function ProfilePage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\");\n        i0.ɵɵelementStart(1, \"ion-toolbar\");\n        i0.ɵɵelementStart(2, \"ion-buttons\", 0);\n        i0.ɵɵelement(3, \"ion-menu-button\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ion-content\");\n        i0.ɵɵelement(5, \"div\", 2);\n        i0.ɵɵelementStart(6, \"ion-refresher\", 3);\n        i0.ɵɵlistener(\"ionRefresh\", function ProfilePage_Template_ion_refresher_ionRefresh_6_listener($event) {\n          return ctx.doRefresh($event);\n        });\n        i0.ɵɵelement(7, \"ion-refresher-content\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"ion-card\");\n        i0.ɵɵelementStart(9, \"div\", 4);\n        i0.ɵɵelement(10, \"img\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 6);\n        i0.ɵɵelementStart(12, \"ion-card-title\", 7);\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"hr\");\n        i0.ɵɵelementStart(16, \"div\", 8);\n        i0.ɵɵelementStart(17, \"ion-button\", 9);\n        i0.ɵɵlistener(\"click\", function ProfilePage_Template_ion_button_click_17_listener() {\n          return ctx.updatePass();\n        });\n        i0.ɵɵtext(18, \"Update Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(19, ProfilePage_div_19_Template, 5, 0, \"div\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"ion-card\", 11);\n        i0.ɵɵelementStart(21, \"ion-list\");\n        i0.ɵɵelementStart(22, \"ion-list-header\");\n        i0.ɵɵelementStart(23, \"ion-label\");\n        i0.ɵɵtext(24, \"My Details\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"ion-button\", 12);\n        i0.ɵɵlistener(\"click\", function ProfilePage_Template_ion_button_click_25_listener() {\n          return ctx.editProfile();\n        });\n        i0.ɵɵelement(26, \"ion-icon\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"ion-item\", 14);\n        i0.ɵɵelement(28, \"ion-icon\", 15);\n        i0.ɵɵelementStart(29, \"ion-label\", 16);\n        i0.ɵɵtext(30);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"ion-item\", 14);\n        i0.ɵɵelement(32, \"ion-icon\", 17);\n        i0.ɵɵelementStart(33, \"ion-label\", 16);\n        i0.ɵɵtext(34);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"ion-item\", 14);\n        i0.ɵɵelement(36, \"ion-icon\", 18);\n        i0.ɵɵelementStart(37, \"ion-label\", 16);\n        i0.ɵɵtext(38);\n        i0.ɵɵelement(39, \"br\");\n        i0.ɵɵtext(40);\n        i0.ɵɵelement(41, \"br\");\n        i0.ɵɵtext(42);\n        i0.ɵɵelement(43, \"br\");\n        i0.ɵɵtext(44);\n        i0.ɵɵelement(45, \"br\");\n        i0.ɵɵtext(46);\n        i0.ɵɵelement(47, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(48, ProfilePage_div_48_Template, 21, 5, \"div\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"ion-card\", 11);\n        i0.ɵɵelementStart(50, \"ion-list\");\n        i0.ɵɵelementStart(51, \"ion-list-header\");\n        i0.ɵɵelementStart(52, \"ion-label\");\n        i0.ɵɵtext(53, \"Attached Company\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(54, ProfilePage_div_54_Template, 5, 0, \"div\", 19);\n        i0.ɵɵtemplate(55, ProfilePage_ng_template_55_Template, 1, 1, \"ng-template\", null, 20, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(57, ProfilePage_ion_card_57_Template, 8, 2, \"ion-card\", 10);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r3 = i0.ɵɵreference(56);\n\n        i0.ɵɵadvance(13);\n        i0.ɵɵtextInterpolate(ctx.name);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.type, \" \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.type == \"RBT\");\n        i0.ɵɵadvance(11);\n        i0.ɵɵtextInterpolate(ctx.email);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.contact);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.address, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.address1, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.city, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.state, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.zipcode, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.type == \"Supervisors\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.comlng == 0)(\"ngIfElse\", _r3);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.type == \"RBT\");\n      }\n    },\n    directives: [i3.IonHeader, i3.IonToolbar, i3.IonButtons, i3.IonMenuButton, i3.IonContent, i3.IonRefresher, i3.IonRefresherContent, i3.IonCard, i3.IonCardTitle, i3.IonButton, i5.NgIf, i3.IonList, i3.IonListHeader, i3.IonLabel, i3.IonIcon, i3.IonItem, i3.IonInput, i3.TextValueAccessor, i5.NgForOf],\n    styles: [\"ion-button[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]{font-family:Poetsen One!important;text-transform:none!important}.imgprofile[_ngcontent-%COMP%]{height:110px;padding:3px;border:2px solid #ffb444;border-radius:58px}.divimg[_ngcontent-%COMP%], .imgprofile[_ngcontent-%COMP%]{justify-content:center}.divimg[_ngcontent-%COMP%]{display:flex}.divimg[_ngcontent-%COMP%], .name[_ngcontent-%COMP%]{padding-top:10px}.name[_ngcontent-%COMP%]{color:#ffb444!important;font-size:22px}.divname[_ngcontent-%COMP%]{text-align:center}hr[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px;border:0;border-top:1px solid #202945}ion-icon[_ngcontent-%COMP%]{color:#000}#editprofile[_ngcontent-%COMP%]{float:right;color:#fff}.divbtns[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:1em;text-align:center}ion-list-header[_ngcontent-%COMP%]{color:#ffb444;background-color:#202945;font-size:16px!important;margin-top:-10px!important;vertical-align:middle!important}ion-icon[_ngcontent-%COMP%]{padding:0 8px!important}ion-card-header[_ngcontent-%COMP%]{background-color:#ffb444;color:#fff}ion-header[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:#fff}.topicon[_ngcontent-%COMP%]{margin-top:-55px!important}ion-item[_ngcontent-%COMP%]{font-size:12px;--min-height:10px}ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}\"]\n  });\n  return ProfilePage;\n})();","map":null,"metadata":{},"sourceType":"module"}