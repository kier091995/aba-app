(self.webpackChunkrbt_1=self.webpackChunkrbt_1||[]).push([[878],{4896:(t,e,n)=>{"use strict";n.d(e,{T:()=>h});var o=n(1855),i=n(3606),r=n(3991),s=n(427),a=n(4683),c=n(6274),l=n(4988);function d(t,e){if(1&t&&(i.TgZ(0,"label"),i._UZ(1,"input",13),i._uU(2),i.qZA()),2&t){const t=i.oxw().index,e=i.oxw();i.xp6(1),i.s9C("value",e.arrays[t][1]),i.xp6(1),i.Oqu(e.arrays[t][1])}}function g(t,e){if(1&t&&(i.TgZ(0,"label"),i._uU(1),i.qZA()),2&t){const t=i.oxw().index,e=i.oxw();i.xp6(1),i.Oqu(e.arrays[t][1])}}function u(t,e){if(1&t&&(i.TgZ(0,"div"),i.YNc(1,d,3,2,"label",11),i.YNc(2,g,2,1,"ng-template",null,12,i.W1O),i.qZA()),2&t){const t=e.index,n=i.MAs(3),o=i.oxw();i.xp6(1),i.Q6J("ngIf","label"!=o.arrays[t][0])("ngIfElse",n)}}let h=(()=>{class t{constructor(t,e,n,o,i,r,s){this.router=t,this.postPvd=e,this.toastController=n,this.menuCtrl=o,this.modalController=i,this.actionSheetController=r,this.plt=s}ngOnInit(){console.log(this.arrays[0])}openToaste(t){return(0,o.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+t+"</center>",duration:2e3,color:"danger"})).present()})}openToasts(t){return(0,o.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+t+"</center>",duration:2e3,color:"success"})).present()})}backButton(){this.modalController.dismiss({dismissed:!0})}submit(){this.ptname=this.plt.is("ios")?"ios":this.plt.is("android")?"android":"APP";var t=[],e=0;if($(".ckboxes").each(function(){$(this).is(":checked")&&(t.push($(this).val()),e++)}),console.log(t),e>0){var n=localStorage.getItem("HOMELINK").slice(0,-1)+"WithEmails/createSupervisionRequest";$.ajax({url:n,type:"POST",dataType:"json",data:{action:"save",ucode:localStorage.getItem("UCODE"),date:this.thisDay,code:this.code,time:t,note:this.note,plt:this.ptname},success:function(t){"ok"==t.stat?(function(t){(0,o.mG)(this,void 0,void 0,function*(){const t=document.createElement("ion-toast");return t.message="<center>Waiting for BCBA Approval!</center>",t.duration=2e3,t.color="success",document.body.appendChild(t),t.present()})}(),setTimeout(function(){$("#back").click()},3e3)):function(t){(0,o.mG)(this,void 0,void 0,function*(){const t=document.createElement("ion-toast");return t.message="<center>Error occured!</center>",t.duration=2e3,t.color="danger",document.body.appendChild(t),t.present()})}()}})}else this.openToaste("You need to select a time to proceed request!")}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(r.F0),i.Y36(s.B),i.Y36(a.yF),i.Y36(a._q),i.Y36(a.IN),i.Y36(a.BX),i.Y36(a.t4))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-supervision-request-create"]],inputs:{code:"code",thisDay:"thisDay",companyname:"companyname",arrays:"arrays"},decls:37,vars:4,consts:[["slot","start"],["id","back",3,"click"],["name","chevron-back-outline",1,"return"],[1,"tblclass"],["size","4",1,"head"],["size","8",1,"head"],[4,"ngFor","ngForOf"],["position","stacked"],["placeholder","Enter note here...",3,"ngModel","ngModelChange"],["size","12",1,"headr"],["size","small",3,"click"],[4,"ngIf","ngIfElse"],["label",""],["type","checkbox",1,"ckboxes",2,"width","24px","height","20px",3,"value"]],template:function(t,e){1&t&&(i.TgZ(0,"ion-header"),i.TgZ(1,"ion-toolbar"),i.TgZ(2,"ion-buttons",0),i.TgZ(3,"ion-button",1),i.NdJ("click",function(){return e.backButton()}),i._UZ(4,"ion-icon",2),i.TgZ(5,"ion-label"),i._uU(6,"Back"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(7,"ion-content"),i.TgZ(8,"ion-list"),i.TgZ(9,"ion-list-header"),i.TgZ(10,"ion-label"),i._uU(11,"Supervision Request Create"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"ion-grid",3),i.TgZ(13,"ion-row"),i.TgZ(14,"ion-col",4),i._uU(15,"Date:"),i.qZA(),i.TgZ(16,"ion-col",5),i._uU(17),i.qZA(),i.qZA(),i.TgZ(18,"ion-row"),i.TgZ(19,"ion-col",4),i._uU(20,"Time:"),i.qZA(),i.TgZ(21,"ion-col",5),i.YNc(22,u,4,2,"div",6),i.qZA(),i.qZA(),i.TgZ(23,"ion-row"),i.TgZ(24,"ion-col",4),i._uU(25,"Company:"),i.qZA(),i.TgZ(26,"ion-col",5),i._uU(27),i.qZA(),i.qZA(),i.TgZ(28,"ion-item"),i.TgZ(29,"ion-label",7),i._uU(30,"Note:"),i.qZA(),i.TgZ(31,"ion-textarea",8),i.NdJ("ngModelChange",function(t){return e.note=t}),i.qZA(),i.qZA(),i.TgZ(32,"ion-row"),i.TgZ(33,"ion-col",9),i._uU(34,"Are you sure you want to request a schedule on this listed details?"),i.qZA(),i.qZA(),i.TgZ(35,"ion-button",10),i.NdJ("click",function(){return e.submit()}),i._uU(36,"Submit"),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(17),i.Oqu(e.thisDay),i.xp6(5),i.Q6J("ngForOf",e.arrays),i.xp6(5),i.Oqu(e.companyname),i.xp6(4),i.Q6J("ngModel",e.note))},directives:[a.Gu,a.sr,a.Sm,a.YG,a.gu,a.Q$,a.W2,a.q_,a.yh,a.jY,a.Nd,a.wI,c.sg,a.Ie,a.g2,a.j9,l.JJ,l.On,c.O5],styles:["ion-list-header[_ngcontent-%COMP%]{color:#202945;font-weight:500;font-family:Poetsen One;font-size:larger;text-align:center;margin-left:-10px!important}ion-button[_ngcontent-%COMP%]{text-transform:none;font-family:Poetsen One}ion-col[_ngcontent-%COMP%], ion-col[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{font-size:12px;text-align:justify}.head[_ngcontent-%COMP%]{font-size:13px}.head[_ngcontent-%COMP%], .headr[_ngcontent-%COMP%]{text-align:center;font-weight:400;font-family:Poetsen One}.headr[_ngcontent-%COMP%]{color:red;font-size:12px}.header-r[_ngcontent-%COMP%]{font-size:14px;text-align:center;background-color:#ffb444;font-family:Poetsen One}.header-r[_ngcontent-%COMP%], .header-r1[_ngcontent-%COMP%]{border:1px solid #000}.header-r1[_ngcontent-%COMP%]{border-top:0!important}.heading[_ngcontent-%COMP%]{font-size:10px;text-align:center;background-color:#ffb444;font-family:Poetsen One}.bodies[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]{border:1px solid #000}.gridstyle[_ngcontent-%COMP%]{padding:0!important}ion-textarea[_ngcontent-%COMP%]{font-size:12px}"]}),t})()},878:(t,e,n)=>{"use strict";n.d(e,{P:()=>g});var o=n(1855),i=n(4896),r=n(3606),s=n(3991),a=n(427),c=n(4683),l=n(6274);function d(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"ion-grid",11),r.TgZ(1,"ion-row"),r.TgZ(2,"ion-col",12),r._uU(3),r.qZA(),r.TgZ(4,"ion-col",13),r._uU(5),r.qZA(),r.TgZ(6,"ion-col",14),r.TgZ(7,"ion-button",15),r.NdJ("click",function(){const e=r.CHM(t).index,n=r.oxw();return n.openModal(n.arr[e][3],n.thisDay,e)}),r._uU(8,"Open"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.index,n=r.oxw();r.xp6(3),r.Oqu(n.arr[t][0]),r.xp6(2),r.Oqu(n.arr[t][1])}}let g=(()=>{class t{constructor(t,e,n,o,i,r){this.router=t,this.postPvd=e,this.toastController=n,this.menuCtrl=o,this.modalController=i,this.actionSheetController=r}ngOnInit(){this.thisDay=this.yrmonth+" "+this.day,this.getdata()}getdata(){if(this.supervisor)return new Promise(t=>{let e={action:"rbtsupervisionschedlistdetails",ucode:localStorage.getItem("UCODE"),supervisor:this.supervisor,ym:this.yrmonth,day:this.day};this.postPvd.postData(e,localStorage.getItem("HOMELINK")).subscribe(t=>{"ok"==t.status?(console.log(t),this.arr=t.arr,this.thisDay=t.thisDay,console.log(t),$("#tblData").show()):this.openToaste("Error on fetching details.")})});$("#tblData").hide()}openModal(t,e,n){return(0,o.mG)(this,void 0,void 0,function*(){const o=yield this.modalController.create({component:i.T,componentProps:{code:t,thisDay:e,companyname:this.arr[n][0],arrays:this.arr[n][2]}});return o.onDidDismiss().then(t=>{this.getdata()}),yield o.present()})}openToaste(t){return(0,o.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+t+"</center>",duration:2e3,color:"danger"})).present()})}backButton(){this.modalController.dismiss({dismissed:!0})}doRefresh(t){setTimeout(()=>{this.getdata()},2e3)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s.F0),r.Y36(a.B),r.Y36(c.yF),r.Y36(c._q),r.Y36(c.IN),r.Y36(c.BX))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-supervision-request-details"]],inputs:{day:"day",yrmonth:"yrmonth",supervisor:"supervisor"},decls:28,vars:2,consts:[["slot","start"],[3,"click"],["name","chevron-back-outline",1,"return"],["slot","fixed",3,"ionRefresh"],[1,"tblclass"],["size","3",1,"head"],["size","9",1,"head"],["size","4",1,"heading"],["size","4.5",1,"heading"],["size","3.5",1,"heading"],["class","gridstyle",4,"ngFor","ngForOf"],[1,"gridstyle"],["size","4",1,"bodies"],["size","4.5",1,"bodies"],["size","3.5",1,"bodies"],["color","primary","size","small",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"ion-header"),r.TgZ(1,"ion-toolbar"),r.TgZ(2,"ion-buttons",0),r.TgZ(3,"ion-button",1),r.NdJ("click",function(){return e.backButton()}),r._UZ(4,"ion-icon",2),r.TgZ(5,"ion-label"),r._uU(6,"Back"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"ion-content"),r.TgZ(8,"ion-refresher",3),r.NdJ("ionRefresh",function(t){return e.doRefresh(t)}),r._UZ(9,"ion-refresher-content"),r.qZA(),r.TgZ(10,"ion-list"),r.TgZ(11,"ion-list-header"),r.TgZ(12,"ion-label"),r._uU(13,"Supervision Request"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(14,"ion-grid",4),r.TgZ(15,"ion-row"),r.TgZ(16,"ion-col",5),r._uU(17,"Date:"),r.qZA(),r.TgZ(18,"ion-col",6),r._uU(19),r.qZA(),r.qZA(),r.TgZ(20,"ion-row"),r.TgZ(21,"ion-col",7),r._uU(22,"Company Name"),r.qZA(),r.TgZ(23,"ion-col",8),r._uU(24,"Time"),r.qZA(),r.TgZ(25,"ion-col",9),r._uU(26,"Availability"),r.qZA(),r.qZA(),r.YNc(27,d,9,2,"ion-grid",10),r.qZA(),r.qZA()),2&t&&(r.xp6(19),r.Oqu(e.thisDay),r.xp6(8),r.Q6J("ngForOf",e.arr))},directives:[c.Gu,c.sr,c.Sm,c.YG,c.gu,c.Q$,c.W2,c.nJ,c.Wo,c.q_,c.yh,c.jY,c.Nd,c.wI,l.sg],styles:["ion-list-header[_ngcontent-%COMP%]{color:#202945;font-weight:500;font-family:Poetsen One;font-size:larger;text-align:center;margin-left:-10px!important}ion-button[_ngcontent-%COMP%]{text-transform:none;font-family:Poetsen One}ion-col[_ngcontent-%COMP%], ion-col[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{font-size:12px;text-align:justify}.head[_ngcontent-%COMP%]{font-weight:400;font-size:13px}.head[_ngcontent-%COMP%], .header-r[_ngcontent-%COMP%]{text-align:center;font-family:Poetsen One}.header-r[_ngcontent-%COMP%]{font-size:14px;background-color:#ffb444}.header-r[_ngcontent-%COMP%], .header-r1[_ngcontent-%COMP%]{border:1px solid #000}.header-r1[_ngcontent-%COMP%]{border-top:0!important}.heading[_ngcontent-%COMP%]{font-size:10px;text-align:center;background-color:#ffb444;font-family:Poetsen One}.bodies[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]{border:1px solid #000}.gridstyle[_ngcontent-%COMP%]{padding:0!important}"]}),t})()}}]);