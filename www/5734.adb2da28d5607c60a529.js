(self.webpackChunkrbt_1=self.webpackChunkrbt_1||[]).push([[5734],{5734:(t,e,o)=>{"use strict";o.r(e),o.d(e,{AttachSupervisorPageModule:()=>g});var s=o(6274),n=o(4988),r=o(4683),i=o(3991),a=o(1855),c=o(3606),l=o(427);function u(t,e){if(1&t&&(c.TgZ(0,"ion-select-option",8),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t[1]),c.xp6(1),c.Oqu(t[0])}}const p=[{path:"",component:(()=>{class t{constructor(t,e,o,s,n,r){this.router=t,this.postPvd=e,this.toastController=o,this.menuCtrl=s,this.location=n,this.plt=r,this.disabledAttachsuper=!1}ngOnInit(){this.getSupervisors()}backButton(){this.router.navigate(["/profile"])}getSupervisors(){return new Promise(t=>{let e={action:"fetchSupervisortoattach",ucode:localStorage.getItem("UCODE"),utype:localStorage.getItem("UTYPE")};this.postPvd.postData(e,localStorage.getItem("HOMELINK")).subscribe(t=>{"ok"==t.status?(console.log(t),this.supervisors=t.supervisors):this.openToaste("<center>Error Occured!</center>")})})}openToasts(t){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:t,duration:2e3,color:"success"})).present()})}openToaste(t){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:t,duration:2e3,color:"danger"})).present()})}create(){if(this.supervisor){if(this.disabledAttachsuper=!0,this.plt.is("ios"))var t="ios";else t=this.plt.is("android")?"android":"APP";return new Promise(e=>{let o={action:"attachSupervisor",ucode:localStorage.getItem("UCODE"),supcode:this.supervisor,utype:localStorage.getItem("UTYPE"),ptname:t};console.log(o),this.postPvd.postData(o,localStorage.getItem("HOMELINK")).subscribe(t=>{"ok"==t.status?(this.openToasts("<center>Supervisor successfully attached.<center>"),$("ion-select").val(""),this.disabledAttachsuper=!1,this.getSupervisors()):(this.disabledAttachsuper=!1,this.openToaste("<center>Error occured!<center>"))})})}this.disabledAttachsuper=!1,this.openToaste("<center>Please select a supervisor!<center>")}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(i.F0),c.Y36(l.B),c.Y36(r.yF),c.Y36(r._q),c.Y36(s.Ye),c.Y36(r.t4))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-attach-supervisor"]],decls:21,vars:3,consts:[["slot","start"],[3,"click"],["name","chevron-back-outline",1,"return"],["position","floating"],[2,"color","red"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["expand","block","color","secondary","size","small",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar"),c.TgZ(2,"ion-buttons",0),c.TgZ(3,"ion-button",1),c.NdJ("click",function(){return e.backButton()}),c._UZ(4,"ion-icon",2),c.TgZ(5,"ion-label"),c._uU(6,"Back"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(7,"ion-content"),c.TgZ(8,"ion-list"),c.TgZ(9,"ion-list-header"),c.TgZ(10,"ion-label"),c._uU(11,"Attach a supervisor"),c.qZA(),c.qZA(),c.TgZ(12,"ion-item"),c.TgZ(13,"ion-label",3),c._uU(14,"Supervisor Name "),c.TgZ(15,"span",4),c._uU(16,"*"),c.qZA(),c.qZA(),c.TgZ(17,"ion-select",5),c.NdJ("ngModelChange",function(t){return e.supervisor=t}),c.YNc(18,u,2,2,"ion-select-option",6),c.qZA(),c.qZA(),c.qZA(),c.TgZ(19,"ion-button",7),c.NdJ("click",function(){return e.create()}),c._uU(20,"Attach"),c.qZA(),c.qZA()),2&t&&(c.xp6(17),c.Q6J("ngModel",e.supervisor),c.xp6(1),c.Q6J("ngForOf",e.supervisors),c.xp6(1),c.Q6J("disabled",e.disabledAttachsuper))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.gu,r.Q$,r.W2,r.q_,r.yh,r.Ie,r.t9,r.QI,n.JJ,n.On,s.sg,r.n0],styles:["ion-list-header[_ngcontent-%COMP%]{color:#202945;font-weight:500;font-family:Poetsen One;font-size:larger;text-align:center;margin-left:-10px!important}ion-button[_ngcontent-%COMP%]{text-transform:none;font-family:Poetsen One}ion-item[_ngcontent-%COMP%]{font-size:12px;--min-height:10px}"]}),t})()}];let d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[i.Bz.forChild(p)],i.Bz]}),t})(),g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[s.ez,n.u5,r.Pc,d]]}),t})()}}]);