(self.webpackChunkrbt_1=self.webpackChunkrbt_1||[]).push([[413],{413:(o,e,n)=>{"use strict";n.r(e),n.d(e,{SupervisionRequestPageModule:()=>f});var t=n(6274),i=n(4988),r=n(4683),s=n(3991),c=n(1855),a=n(878),l=n(3606),d=n(427);function u(o,e){if(1&o&&(l.TgZ(0,"ion-select-option",16),l._uU(1),l.qZA()),2&o){const o=e.$implicit;l.s9C("value",o[1]),l.xp6(1),l.Oqu(o[0])}}function g(o,e){if(1&o){const o=l.EpF();l.TgZ(0,"ion-row"),l.TgZ(1,"ion-col",17),l.NdJ("click",function(){const e=l.CHM(o),n=e.$implicit,t=e.index,i=l.oxw();return i.openModal(n[0],i.sched[t][0])}),l._uU(2),l.qZA(),l.TgZ(3,"ion-col",17),l.NdJ("click",function(){const e=l.CHM(o),n=e.$implicit,t=e.index,i=l.oxw();return i.openModal(n[1],i.sched[t][1])}),l._uU(4),l.qZA(),l.TgZ(5,"ion-col",17),l.NdJ("click",function(){const e=l.CHM(o),n=e.$implicit,t=e.index,i=l.oxw();return i.openModal(n[2],i.sched[t][2])}),l._uU(6),l.qZA(),l.TgZ(7,"ion-col",17),l.NdJ("click",function(){const e=l.CHM(o),n=e.$implicit,t=e.index,i=l.oxw();return i.openModal(n[3],i.sched[t][3])}),l._uU(8),l.qZA(),l.TgZ(9,"ion-col",17),l.NdJ("click",function(){const e=l.CHM(o),n=e.$implicit,t=e.index,i=l.oxw();return i.openModal(n[4],i.sched[t][4])}),l._uU(10),l.qZA(),l.TgZ(11,"ion-col",17),l.NdJ("click",function(){const e=l.CHM(o),n=e.$implicit,t=e.index,i=l.oxw();return i.openModal(n[5],i.sched[t][5])}),l._uU(12),l.qZA(),l.TgZ(13,"ion-col",17),l.NdJ("click",function(){const e=l.CHM(o),n=e.$implicit,t=e.index,i=l.oxw();return i.openModal(n[6],i.sched[t][6])}),l._uU(14),l.qZA(),l.qZA()}if(2&o){const o=e.$implicit,n=e.index,t=l.oxw();l.xp6(1),l.Gre("header-r1 ion",t.arrColor[n][0],""),l.xp6(1),l.Oqu(o[0]),l.xp6(1),l.Gre("header-r1 ion",t.arrColor[n][1],""),l.xp6(1),l.Oqu(o[1]),l.xp6(1),l.Gre("header-r1 ion",t.arrColor[n][2],""),l.xp6(1),l.Oqu(o[2]),l.xp6(1),l.Gre("header-r1 ion",t.arrColor[n][3],""),l.xp6(1),l.Oqu(o[3]),l.xp6(1),l.Gre("header-r1 ion",t.arrColor[n][4],""),l.xp6(1),l.Oqu(o[4]),l.xp6(1),l.Gre("header-r1 ion",t.arrColor[n][5],""),l.xp6(1),l.Oqu(o[5]),l.xp6(1),l.Gre("header1 ion",t.arrColor[n][6],""),l.xp6(1),l.Oqu(o[6])}}const p=[{path:"",component:(()=>{class o{constructor(o,e,n,t,i,r){this.router=o,this.postPvd=e,this.toastController=n,this.menuCtrl=t,this.modalController=i,this.actionSheetController=r}ngOnInit(){this.min=(new Date).getFullYear().toString()+"-"+((new Date).getMonth()+1).toString().padStart(2,"0"),this.max=((new Date).getFullYear()+1).toString(),console.log(this.min,this.max),this.getVisor()}doRefresh(o){setTimeout(()=>{this.ym="",this.visor="",o.target.complete()},2e3)}getVisor(){return new Promise(o=>{let e={action:"rbtsupervisiongetvisor",ucode:localStorage.getItem("UCODE")};this.postPvd.postData(e,localStorage.getItem("HOMELINK")).subscribe(o=>{"ok"==o.status?(this.visor=o.visor,console.log(o)):this.openToaste("Error on fetching details.")})})}optionsFn(){if(this.supervisor&&this.ym)return new Promise(o=>{let e={action:"rbtsupervisionschedlist",ucode:localStorage.getItem("UCODE"),supervisor:this.supervisor,ym:this.ym};this.postPvd.postData(e,localStorage.getItem("HOMELINK")).subscribe(o=>{"ok"==o.status?(this.tr=o.dates,this.yrmonth=o.details,this.sched=o.sched,this.arrColor=o.arrColor,console.log(o),$("#tblData").show()):this.openToaste("Error on fetching details.")})});$("#tblData").hide()}openModal(o,e){return(0,c.mG)(this,void 0,void 0,function*(){if(e){const e=yield this.modalController.create({component:a.P,componentProps:{day:o,yrmonth:this.yrmonth,supervisor:this.supervisor}});return e.onDidDismiss().then(o=>{this.optionsFn()}),yield e.present()}})}openToasts(o){return(0,c.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+o+"</center>",duration:2e3,color:"success"})).present()})}openToaste(o){return(0,c.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+o+"</center>",duration:2e3,color:"danger"})).present()})}}return o.\u0275fac=function(e){return new(e||o)(l.Y36(s.F0),l.Y36(d.B),l.Y36(r.yF),l.Y36(r._q),l.Y36(r.IN),l.Y36(r.BX))},o.\u0275cmp=l.Xpm({type:o,selectors:[["app-supervision-request"]],decls:49,vars:7,consts:[["slot","start"],["autoHide","false"],["slot","fixed",3,"ionRefresh"],["position","floating"],["display-format","MMMM-YYYY",3,"min","max","ngModel","ngModelChange","ionChange"],[3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["id","tblData",1,"tblclass",2,"display","none"],["size","12",1,"head"],[1,"ionactive"],[1,"ionactivesuper"],[1,"ionactivework"],[1,"ionactivesuperwork"],["size","1.7",1,"header-r"],["size","1.7",1,"header"],[4,"ngFor","ngForOf"],[3,"value"],["button","","size","1.7",3,"click"]],template:function(o,e){1&o&&(l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar"),l.TgZ(2,"ion-buttons",0),l._UZ(3,"ion-menu-button",1),l.qZA(),l.qZA(),l.qZA(),l.TgZ(4,"ion-content"),l.TgZ(5,"ion-refresher",2),l.NdJ("ionRefresh",function(o){return e.doRefresh(o)}),l._UZ(6,"ion-refresher-content"),l.qZA(),l.TgZ(7,"ion-list"),l.TgZ(8,"ion-list-header"),l.TgZ(9,"ion-label"),l._uU(10,"Supervision Request"),l.qZA(),l.qZA(),l.TgZ(11,"ion-item"),l.TgZ(12,"ion-label",3),l._uU(13,"Select year and month: "),l.qZA(),l.TgZ(14,"ion-datetime",4),l.NdJ("ngModelChange",function(o){return e.ym=o})("ionChange",function(){return e.optionsFn()}),l.qZA(),l.qZA(),l.TgZ(15,"ion-item"),l.TgZ(16,"ion-label",3),l._uU(17,"Select supervisor: "),l.qZA(),l.TgZ(18,"ion-select",5),l.NdJ("ngModelChange",function(o){return e.supervisor=o})("ionChange",function(){return e.optionsFn()}),l.YNc(19,u,2,2,"ion-select-option",6),l.qZA(),l.qZA(),l.qZA(),l.TgZ(20,"ion-grid",7),l.TgZ(21,"ion-row"),l.TgZ(22,"ion-col",8),l._uU(23),l.qZA(),l.qZA(),l.TgZ(24,"ion-row"),l.TgZ(25,"ion-badge",9),l._uU(26,"Active"),l.qZA(),l.TgZ(27,"ion-badge",10),l._uU(28,"Supervision"),l.qZA(),l.TgZ(29,"ion-badge",11),l._uU(30,"Work Sched"),l.qZA(),l.TgZ(31,"ion-badge",12),l._uU(32,"Supervision & Work Sched"),l.qZA(),l.qZA(),l.TgZ(33,"ion-row"),l.TgZ(34,"ion-col",13),l._uU(35,"Sun"),l.qZA(),l.TgZ(36,"ion-col",13),l._uU(37,"Mon"),l.qZA(),l.TgZ(38,"ion-col",13),l._uU(39,"Tue"),l.qZA(),l.TgZ(40,"ion-col",13),l._uU(41,"Wed"),l.qZA(),l.TgZ(42,"ion-col",13),l._uU(43,"Thu"),l.qZA(),l.TgZ(44,"ion-col",13),l._uU(45,"Fri"),l.qZA(),l.TgZ(46,"ion-col",14),l._uU(47,"Sat"),l.qZA(),l.qZA(),l.YNc(48,g,15,28,"ion-row",15),l.qZA(),l.qZA()),2&o&&(l.xp6(14),l.s9C("min",e.min),l.s9C("max",e.max),l.Q6J("ngModel",e.ym),l.xp6(4),l.Q6J("ngModel",e.supervisor),l.xp6(1),l.Q6J("ngForOf",e.visor),l.xp6(4),l.Oqu(e.yrmonth),l.xp6(25),l.Q6J("ngForOf",e.tr))},directives:[r.Gu,r.sr,r.Sm,r.fG,r.W2,r.nJ,r.Wo,r.q_,r.yh,r.Q$,r.Ie,r.x4,r.QI,i.JJ,i.On,r.t9,t.sg,r.jY,r.Nd,r.wI,r.yp,r.n0],styles:["@font-face{font-family:Poetsen One;font-style:normal;font-weight:300;font-display:swap;src:url(/assets/fonts/PoetsenOne-Regular.ttf)}ion-list-header[_ngcontent-%COMP%]{color:#202945;font-weight:500;font-family:Poetsen One;font-size:larger;text-align:center;margin-left:-10px!important}.tblclass[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{text-transform:none}.head[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-family:Poetsen One}.header[_ngcontent-%COMP%], .header-r[_ngcontent-%COMP%]{border:1px solid #000;font-size:12px;text-align:center;background-color:#ffb444;font-family:Poetsen One}.header-r[_ngcontent-%COMP%]{border-right:0!important}.header1[_ngcontent-%COMP%], .header-r1[_ngcontent-%COMP%]{border:1px solid #000;border-top:0!important;font-size:10px;text-align:right;padding-bottom:13px;text-decoration:underline;background-color:#d5d5d5}.header-r1[_ngcontent-%COMP%]{border-right:0!important}ion-item[_ngcontent-%COMP%]{font-size:14px}ion-badge[_ngcontent-%COMP%]{font-size:8px;margin-right:1.5px;margin-bottom:5px}.ionactive[_ngcontent-%COMP%]{background-color:#fff}.ionactive[_ngcontent-%COMP%], .ionactivesuper[_ngcontent-%COMP%]{color:#202945;border:1px solid #000}.ionactivesuper[_ngcontent-%COMP%]{background-color:#ffe61b}.ionactivework[_ngcontent-%COMP%]{background-color:#ff8c5d;color:#ffe61b;border:1px solid #000}.ionactivesuperwork[_ngcontent-%COMP%]{background-color:#ffb44b;color:#202945;border:1px solid #000}"]}),o})()}];let h=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=l.oAB({type:o}),o.\u0275inj=l.cJS({imports:[[s.Bz.forChild(p)],s.Bz]}),o})(),f=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=l.oAB({type:o}),o.\u0275inj=l.cJS({imports:[[t.ez,i.u5,r.Pc,h]]}),o})()}}]);