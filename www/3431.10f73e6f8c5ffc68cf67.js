(self.webpackChunkrbt_1=self.webpackChunkrbt_1||[]).push([[3431],{3431:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CreateSupervisorsPageModule:()=>f});var n=i(6274),r=i(4988),s=i(4683),o=i(3991),a=i(1855),l=i(3606),u=i(427);const c=["fn"],p=["ln"],d=["pn"],h=["email"],m=[{path:"",component:(()=>{class e{constructor(e,t,i,n,r,s){this.router=e,this.postPvd=t,this.toastController=i,this.menuCtrl=n,this.location=r,this.plt=s,this.disabledCreatesuper=!1}ngOnInit(){}ngAfterViewInit(){}create(){this.disabledCreatesuper=!0;var e=0,t=[],i=[];if($(".required").each(function(){""==$(this).val()&&(e++,t.push($(this).siblings("ion-label").text()),i.push($(this).attr("id")))}),0==e)return this.ptname=this.plt.is("ios")?"ios":this.plt.is("android")?"android":"APP",new Promise(e=>{let t={action:"createVisor",ucode:localStorage.getItem("UCODE"),fn:$("#fn").val(),ln:$("#ln").val(),pn:$("#pn").val(),email:$("#email").val(),plt:this.ptname};console.log(localStorage.getItem("HOMELINK")),this.postPvd.postData(t,localStorage.getItem("HOMELINK")).subscribe(e=>{"ok"==e.status?(this.openToasts("<center>Supervisor created successfully.<center>"),this.disabledCreatesuper=!1,$("ion-input").val("")):(this.disabledCreatesuper=!1,this.openToaste("<center>Company name is existing!<center>"))})});this.disabledCreatesuper=!1,this.openToaste("<center>"+t[0]+" field is required.</center>"),console.log(i[0].toString()),this["thisInput"+i[0]].setFocus()}openToasts(e){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+e+"</center>",duration:2e3,color:"success"})).present()})}openToaste(e){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+e+"</center>",duration:2e3,color:"danger"})).present()})}backButton(){this.router.navigate(["/profile"])}createSupervisor(){if(this.disabledCreatesuper=!0,this.plt.is("ios"))var e="ios";else e=this.plt.is("android")?"android":"APP";$("#createSupervisor").attr("disabled","true");var t=0,i=[],n=[];if($(".requiredsuper").each(function(){""==$(this).val()&&(t++,i.push($(this).siblings("ion-label").text()),n.push($(this).attr("id")))}),console.log(t),0==t){var r=localStorage.getItem("HOMELINK").slice(0,-1)+"WithEmails/CreateSupervisor";$.ajax({url:r,type:"POST",dataType:"json",data:{action:"save",ucode:localStorage.getItem("UCODE"),fn:$("#fn").val(),ln:$("#ln").val(),pn:$("#pn").val(),email:$("#email").val(),plt:e},success:function(e){"ok"==e.status?(function(e){(0,a.mG)(this,void 0,void 0,function*(){const e=document.createElement("ion-toast");return e.message="<center><center>Supervisor created successfully.<center></center>",e.duration=2e3,e.color="success",document.body.appendChild(e),e.present()})}(),this.disabledCreatesuper=!1,setTimeout(function(){$("ion-input").val(""),$("#createSupervisor").removeAttr("disabled")},3e3)):(this.disabledCreatesuper=!1,s("<center>Supervisor email already exist!<center>"),$("#createSupervisor").removeAttr("disabled"))}})}else this.disabledCreatesuper=!1,$("#createSupervisor").removeAttr("disabled"),s("<center>All fields(*) are required.</center>");function s(e){return(0,a.mG)(this,void 0,void 0,function*(){const t=document.createElement("ion-toast");return t.message="<center>"+e+"</center>",t.duration=2e3,t.color="danger",document.body.appendChild(t),t.present()})}}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(o.F0),l.Y36(u.B),l.Y36(s.yF),l.Y36(s._q),l.Y36(n.Ye),l.Y36(s.t4))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-create-supervisors"]],viewQuery:function(e,t){if(1&e&&(l.Gf(c,5),l.Gf(p,5),l.Gf(d,5),l.Gf(h,5)),2&e){let e;l.iGM(e=l.CRH())&&(t.thisInputfn=e.first),l.iGM(e=l.CRH())&&(t.thisInputln=e.first),l.iGM(e=l.CRH())&&(t.thisInputpn=e.first),l.iGM(e=l.CRH())&&(t.thisInputemail=e.first)}},decls:42,vars:1,consts:[["slot","start"],["id","back",3,"click"],["name","chevron-back-outline",1,"return"],["position","floating"],[2,"color","red"],["type","text","id","fn",1,"requiredsuper"],["fn",""],["type","text","id","ln",1,"requiredsuper"],["ln",""],["type","tel","id","pn","maxlength","10",1,"requiredsuper"],["pn",""],["type","email","id","email",1,"requiredsuper"],["email",""],["expand","block","color","secondary","id","createSupervisor","size","small",3,"disabled","click"]],template:function(e,t){1&e&&(l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar"),l.TgZ(2,"ion-buttons",0),l.TgZ(3,"ion-button",1),l.NdJ("click",function(){return t.backButton()}),l._UZ(4,"ion-icon",2),l.TgZ(5,"ion-label"),l._uU(6,"Back"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"ion-content"),l.TgZ(8,"ion-list"),l.TgZ(9,"ion-list-header"),l.TgZ(10,"ion-label"),l._uU(11,"Create a supervisor"),l.qZA(),l.qZA(),l.TgZ(12,"ion-item"),l.TgZ(13,"ion-label",3),l._uU(14,"First name "),l.TgZ(15,"span",4),l._uU(16,"*"),l.qZA(),l.qZA(),l._UZ(17,"ion-input",5,6),l.qZA(),l.TgZ(19,"ion-item"),l.TgZ(20,"ion-label",3),l._uU(21,"Last name "),l.TgZ(22,"span",4),l._uU(23,"*"),l.qZA(),l.qZA(),l._UZ(24,"ion-input",7,8),l.qZA(),l.TgZ(26,"ion-item"),l.TgZ(27,"ion-label",3),l._uU(28,"Phone number "),l.TgZ(29,"span",4),l._uU(30,"*"),l.qZA(),l.qZA(),l._UZ(31,"ion-input",9,10),l.qZA(),l.TgZ(33,"ion-item"),l.TgZ(34,"ion-label",3),l._uU(35,"Email "),l.TgZ(36,"span",4),l._uU(37,"*"),l.qZA(),l.qZA(),l._UZ(38,"ion-input",11,12),l.qZA(),l.qZA(),l.TgZ(40,"ion-button",13),l.NdJ("click",function(){return t.createSupervisor()}),l._uU(41,"Create"),l.qZA(),l.qZA()),2&e&&(l.xp6(40),l.Q6J("disabled",t.disabledCreatesuper))},directives:[s.Gu,s.sr,s.Sm,s.YG,s.gu,s.Q$,s.W2,s.q_,s.yh,s.Ie,s.pK,s.j9],styles:["ion-list-header[_ngcontent-%COMP%]{color:#202945;font-weight:500;font-family:Poetsen One;font-size:larger;text-align:center;margin-left:-10px!important}.input-dngr[_ngcontent-%COMP%]{--border-color:var(--ion-color-danger,#f1453d)!important}ion-button[_ngcontent-%COMP%]{text-transform:none;font-family:Poetsen One}ion-item[_ngcontent-%COMP%]{font-size:12px;--min-height:10px}"]}),e})()}];let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[o.Bz.forChild(m)],o.Bz]}),e})(),f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[n.ez,r.u5,s.Pc,g]]}),e})()}}]);