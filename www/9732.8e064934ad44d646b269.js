(self.webpackChunkrbt_1=self.webpackChunkrbt_1||[]).push([[9732],{4904:(t,e,o)=>{"use strict";o.d(e,{w:()=>g});var n=o(1855),i=o(3606),a=o(3991),s=o(427),r=o(4683),l=o(6274);function c(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"ion-button",22),i.NdJ("click",function(){return i.CHM(t),i.oxw().btnappend()}),i._UZ(1,"ion-icon",23),i.qZA()}}function d(t,e){1&t&&(i.TgZ(0,"div",24),i.TgZ(1,"ion-row",25),i.TgZ(2,"ion-col",26),i.TgZ(3,"ion-button",27),i._UZ(4,"ion-icon",28),i.qZA(),i._UZ(5,"br"),i._UZ(6,"input",29),i.qZA(),i.TgZ(7,"ion-col",30),i.TgZ(8,"label"),i._uU(9,"Service Type:"),i.qZA(),i._UZ(10,"select",31),i.TgZ(11,"label"),i._uU(12,"Service Subtype: "),i.qZA(),i._UZ(13,"select",32),i.TgZ(14,"label"),i._uU(15,"Comment:"),i.qZA(),i._UZ(16,"textarea",33),i.qZA(),i.TgZ(17,"ion-col",19),i._UZ(18,"label",34),i.qZA(),i.qZA(),i.qZA())}function u(t,e){if(1&t&&(i.TgZ(0,"ion-button",35),i._uU(1,"Save"),i.qZA()),2&t){const t=i.oxw();i.Q6J("disabled",t.diabledTaskLog)}}let g=(()=>{class t{constructor(t,e,o,n,i,a,s,r){this.router=t,this.postPvd=e,this.toastController=o,this.menuCtrl=n,this.modalController=i,this.actionSheetController=a,this.alertController=s,this.plt=r,this.diabledTaskLog=!1}ngOnInit(){console.log(this.type,this.code),this.name=localStorage.getItem("NAME");var t=this.code;if("view"!=this.type)this.getData(),$("body").on("change",".stype",function(){console.log($(this).find(":selected").text());var t=$(this).find(":selected").val(),e=$(this).attr("attr"),o=localStorage.getItem("HOMELINK").slice(0,-1)+"1/";console.log(o),$.ajax({url:o,type:"POST",dataType:"json",data:{code:t,action:"subtype"},success:function(t){console.log(t),$(".sub"+e).html(t.PTS)}})}),$("body").on("change",".time",function(){var t=$(this).attr("attr");console.log(t,$(this).val()),$("."+t).html($(this).val());var e=$(this).val().split(":"),o=parseInt(e[0]),n=parseInt(e[1]),i=Math.abs(o)+"."+Math.abs(n);$("."+t).html(i),function(){var t=0;$(".total").each(function(){var e=$(this).text();e&&(t+=parseInt(e),console.log(e))}),console.log(.05*t);var e=.05*t;$(".finaltotal").html(e.toFixed(2))}()}),$("body").on("click","#save",function(){$("#save").attr("disabled",!0);var t=0,e=[];if($(".req").each(function(){""==$(this).val()&&(t++,e.push($(this)))}),0==t){var o=localStorage.getItem("HOMELINK").slice(0,-1)+"1/",i=[],a=[],s=[],r=[],l=[];$(".total").each(function(){""!=$(this).html()&&l.push($(this).html())}),$(".stype").each(function(){""!=$(this).find(":selected").text()&&i.push($(this).find(":selected").text())}),$(".sub").each(function(){""!=$(this).find(":selected").text()&&a.push($(this).find(":selected").text())}),$(".comment").each(function(){""!=$(this).val()&&s.push($(this).val())}),$(".time").each(function(){""!=$(this).val()&&r.push($(this).val())}),$.ajax({url:o,type:"POST",dataType:"json",data:{action:"save",ucode:localStorage.getItem("UCODE"),newcode:$(".newcode").val(),bcba:$(".supervisorcode").val(),stime:$(".stime").val(),etime:$(".etime").val(),date:$(".date").html(),duration:r,protype:i,prosub:a,cmnt:s,totalX:l},success:function(t){!function(t){(0,n.mG)(this,void 0,void 0,function*(){const t=document.createElement("ion-toast");return t.message="<center>Task log create successful!</center>",t.duration=2e3,t.color="success",document.body.appendChild(t),t.present()})}(),$("#save").removeAttr("disabled"),setTimeout(function(){console.log("back"),$("#back").click()},3e3)}})}else $("#save").removeAttr("disabled"),e[0].focus(),e[0].css("border","1px solid red"),setTimeout(function(){e[0].removeAttr("style")},5e3)}),$("body").on("click","#remove",function(){$(".btnRemove");var t=$(this).index(".btnRemove")+1;$(this).parent().parent().remove(),console.log(t)});else if("view"==this.type){var e=localStorage.getItem("HOMELINK").slice(0,-1)+"1/";$.ajax({url:e,type:"POST",dataType:"json",data:{action:"view",ucode:localStorage.getItem("UCODE"),code:t},success:function(t){console.log(t),$("#x").html(t.datax);var e=t.total;$(".finaltotal").html(e.toFixed(2)),$(".visor").html(t.visor),$(".date").html(t.date)}})}}getData(){return new Promise(t=>{let e={action:"rbtgettaskcreate",ucode:localStorage.getItem("UCODE"),type:this.type,code:this.code};this.postPvd.postData(e,localStorage.getItem("HOMELINK")).subscribe(t=>{"ok"==t.status?(this.arrData=t.datax,this.newcode=this.arrData.newcode,this.supervisorcode=this.arrData.supervisorcode,this.stime=this.arrData.stime,this.etime=this.arrData.etime,this.visor=t.supervisor,this.date=t.date,$(".pt1").append(t.PT),this.PT=t.PT,console.log(t)):this.openToaste("Error occured!")})})}btnappend(){var t=$(".stype").length;t++;var e='style="border: 1px solid"',o='style="width: 100%; font-size: 12px;color: black; background-color: white"',n="style=\"font-family: 'Poetsen One';font-size: 12px;\"";$("#divappend").append('\n\t\t\t<ion-row id="rowappend">\n\t\t\t\t<ion-col class="datalist" size="4" '+e+'>\n\t\t\t\t\t<ion-button button id="remove" class="btnRemove" color="danger" size="small"><ion-icon name="remove-circle-outline" style="color: #fff;"></ion-icon></ion-button> <br>\n\t\t\t\t\t<input type="time" class="time req" attr="total'+t+'" style="font-size: 10px;width: 100%;color: black; background-color: white">\n\t\t\t\t</ion-col>\n\t\t\t\t<ion-col class="datalist" size="6" '+e+'>\n\t\t\t\t\t<ion-label position="stacked" '+n+'>Service Type: </ion-label>\n\t\t\t\t\t<select class="stype pt'+t+' req" attr="pt'+t+'" '+o+">"+this.PT+'</select>\n\t\t\t\t\t\n\t\t\t\t\t<ion-label position="stacked" '+n+'>Service Subtype: </ion-label>\n\t\t\t\t\t<select class="subpt'+t+' req" '+o+'></select>\n\n\t\t\t\t\t<ion-label position="stacked" '+n+'>Comment:</ion-label>\n\t\t\t\t\t<textarea class="csscomment comment" cols="30" rows="10" style="font-size:12px;width: 100%;color: black; background-color: white"></textarea>\n\t\t\t\t</ion-col>\n\t\t\t\t<ion-col class="datalist" size="2" '+e+'>\n\t\t\t\t<label class="total total'+t+'" '+n+"></label>\n\t\t\t\t</ion-col>\n\t\t\t</ion-row>\n\t\t")}openToaste(t){return(0,n.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+t+"</center>",duration:2e3,color:"danger"})).present()})}backButton(){this.modalController.dismiss({dismissed:!0})}doRefresh(t){setTimeout(()=>{this.getData(),t.target.complete()},2e3)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(a.F0),i.Y36(s.B),i.Y36(r.yF),i.Y36(r._q),i.Y36(r.IN),i.Y36(r.BX),i.Y36(r.Br),i.Y36(r.t4))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-task-tracker"]],inputs:{type:"type",code:"code"},decls:50,vars:10,consts:[["slot","start"],["id","back",3,"click"],["name","chevron-back-outline",1,"return"],[1,"tblclass"],["size","7",1,"head"],["size","5",1,"head"],["type","hidden",1,"newcode",3,"value"],["type","hidden",1,"supervisorcode",3,"value"],["type","hidden",1,"stime",3,"value"],["type","hidden",1,"etime",3,"value"],["size","5",1,"visor"],["size","5",1,"date"],["size","4",1,"headlist"],["size","small","color","primary","id","btnappend",3,"click",4,"ngIf"],["size","6",1,"headlist"],["size","2",1,"headlist"],["id","divappend",4,"ngIf"],["id","x"],["size","10",1,"headlist"],["size","2",1,"datalist"],[1,"finaltotal"],["id","save","color","secondary","size","small","expand","block",3,"disabled",4,"ngIf"],["size","small","color","primary","id","btnappend",3,"click"],["name","add-outline","shape","round","fill","outline"],["id","divappend"],["id","rowappend"],["size","4",1,"datalist"],["button","","id","remove","color","danger","size","small",1,"btnRemove"],["name","remove-circle-outline",2,"color","#fff"],["type","time","min","00:00","max","24:00","attr","total1",1,"time","req"],["size","6",1,"datalist"],["attr","pt1",1,"stype","pt1","req"],[1,"sub","subpt1"],["cols","30","rows","10",1,"csscomment","comment"],[1,"total","total1"],["id","save","color","secondary","size","small","expand","block",3,"disabled"]],template:function(t,e){1&t&&(i.TgZ(0,"ion-header"),i.TgZ(1,"ion-toolbar"),i.TgZ(2,"ion-buttons",0),i.TgZ(3,"ion-button",1),i.NdJ("click",function(){return e.backButton()}),i._UZ(4,"ion-icon",2),i.TgZ(5,"ion-label"),i._uU(6,"Back"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(7,"ion-content"),i.TgZ(8,"ion-list"),i.TgZ(9,"ion-list-header"),i.TgZ(10,"ion-label"),i._uU(11,"RBT Task Log"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"ion-grid",3),i.TgZ(13,"ion-row"),i.TgZ(14,"ion-col",4),i._uU(15,"Registered Behavior Technician :"),i.qZA(),i.TgZ(16,"ion-col",5),i._uU(17),i.qZA(),i._UZ(18,"input",6),i._UZ(19,"input",7),i._UZ(20,"input",8),i._UZ(21,"input",9),i.qZA(),i.TgZ(22,"ion-row"),i.TgZ(23,"ion-col",4),i._uU(24,"Supervisor :"),i.qZA(),i.TgZ(25,"ion-col",10),i._uU(26),i.qZA(),i.qZA(),i.TgZ(27,"ion-row"),i.TgZ(28,"ion-col",4),i._uU(29,"Date of Supervision :"),i.qZA(),i.TgZ(30,"ion-col",11),i._uU(31),i.qZA(),i.qZA(),i.TgZ(32,"ion-row"),i.TgZ(33,"ion-col",12),i._uU(34,"Shift Schedule (Duration) "),i.YNc(35,c,2,0,"ion-button",13),i.qZA(),i.TgZ(36,"ion-col",14),i._uU(37,"Behavior-Analytic Services Implemented During Shift"),i.qZA(),i.TgZ(38,"ion-col",15),i._uU(39,"Total Time"),i.qZA(),i.qZA(),i.YNc(40,d,19,0,"div",16),i._UZ(41,"div",17),i.TgZ(42,"ion-row"),i.TgZ(43,"ion-col",18),i._uU(44," Total Amount of BCBA Supervision Required "),i._UZ(45,"br"),i._uU(46," (5% of total hours implementing behavior-analytic services) "),i.qZA(),i.TgZ(47,"ion-col",19),i._UZ(48,"label",20),i.qZA(),i.qZA(),i.qZA(),i.YNc(49,u,2,1,"ion-button",21),i.qZA()),2&t&&(i.xp6(17),i.Oqu(e.name),i.xp6(1),i.s9C("value",e.newcode),i.xp6(1),i.s9C("value",e.supervisorcode),i.xp6(1),i.s9C("value",e.stime),i.xp6(1),i.s9C("value",e.etime),i.xp6(5),i.Oqu(e.visor),i.xp6(5),i.Oqu(e.date),i.xp6(4),i.Q6J("ngIf","create"==e.type),i.xp6(5),i.Q6J("ngIf","create"==e.type),i.xp6(9),i.Q6J("ngIf","create"==e.type))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.gu,r.Q$,r.W2,r.q_,r.yh,r.jY,r.Nd,r.wI,l.O5],styles:["ion-content[_ngcontent-%COMP%]{background-color:#fff}ion-list-header[_ngcontent-%COMP%]{color:#202945;font-weight:500;font-family:Poetsen One;font-size:larger;text-align:center;margin-left:-10px!important}ion-button[_ngcontent-%COMP%]{text-transform:none;font-family:Poetsen One}ion-col[_ngcontent-%COMP%], ion-col[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{font-size:12px;text-align:justify}.head[_ngcontent-%COMP%], .headlist[_ngcontent-%COMP%]{text-align:center;font-weight:400;font-size:12px;font-family:Poetsen One}.headlist[_ngcontent-%COMP%]{background-color:#ffb444}.datalist[_ngcontent-%COMP%], .headlist[_ngcontent-%COMP%]{border:.01em solid #000;margin-bottom:-1px}.datalist[_ngcontent-%COMP%]{text-align:center;font-weight:400;font-size:12px;background-color:#fff}ion-label[_ngcontent-%COMP%]   .labelclass[_ngcontent-%COMP%]{font-size:12px!important}select[_ngcontent-%COMP%]{width:100%;font-size:13px}ion-datetime[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border-bottom:1px solid #000!important}.left[_ngcontent-%COMP%]{width:40%}.mid[_ngcontent-%COMP%]{width:60%}.right[_ngcontent-%COMP%]{width:20%}.time[_ngcontent-%COMP%]{font-size:10px;width:100%}.csscomment[_ngcontent-%COMP%]{width:100%;font-size:12px;background-color:#fff;color:#000}option[_ngcontent-%COMP%]{overflow-wrap:break-word;word-wrap:break-word}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:#fff;color:#000}"]}),t})()},9732:(t,e,o)=>{"use strict";o.d(e,{v:()=>p});var n=o(1855),i=o(4904),a=o(3606),s=o(3991),r=o(427),l=o(4683),c=o(6274);function d(t,e){if(1&t&&(a.TgZ(0,"div"),a.TgZ(1,"ion-grid",11),a.TgZ(2,"ion-row"),a.TgZ(3,"ion-col",12),a._uU(4,"Supervisor:"),a.qZA(),a.TgZ(5,"ion-col",13),a._uU(6),a.qZA(),a.qZA(),a.TgZ(7,"ion-row"),a.TgZ(8,"ion-col",12),a._uU(9,"Company:"),a.qZA(),a.TgZ(10,"ion-col",13),a._uU(11),a.qZA(),a.qZA(),a.TgZ(12,"ion-row"),a.TgZ(13,"ion-col",12),a._uU(14,"Time:"),a.qZA(),a.TgZ(15,"ion-col",13),a._uU(16),a.qZA(),a.qZA(),a.TgZ(17,"ion-row"),a.TgZ(18,"ion-col",12),a._uU(19,"Note:"),a.qZA(),a.TgZ(20,"ion-col",13),a._uU(21),a.qZA(),a.qZA(),a.TgZ(22,"ion-row"),a.TgZ(23,"ion-col",12),a._uU(24,"Status:"),a.qZA(),a.TgZ(25,"ion-col",13),a._uU(26),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){const t=a.oxw().index,e=a.oxw();a.xp6(6),a.Oqu(e.arrData[t][0]),a.xp6(5),a.Oqu(e.arrData[t][1]),a.xp6(5),a.Oqu(e.arrData[t][2]),a.xp6(5),a.Oqu(e.arrData[t][3]),a.xp6(5),a.Oqu(e.arrData[t][4])}}function u(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"ion-grid",11),a.TgZ(1,"ion-row"),a.TgZ(2,"ion-col",12),a._uU(3,"Supervisor:"),a.qZA(),a.TgZ(4,"ion-col",13),a._uU(5),a.qZA(),a.qZA(),a.TgZ(6,"ion-row"),a.TgZ(7,"ion-col",12),a._uU(8,"Company:"),a.qZA(),a.TgZ(9,"ion-col",13),a._uU(10),a.qZA(),a.qZA(),a.TgZ(11,"ion-row"),a.TgZ(12,"ion-col",12),a._uU(13,"Time:"),a.qZA(),a.TgZ(14,"ion-col",13),a._uU(15),a.qZA(),a.qZA(),a.TgZ(16,"ion-row"),a.TgZ(17,"ion-col",12),a._uU(18,"Note:"),a.qZA(),a.TgZ(19,"ion-col",13),a._uU(20),a.qZA(),a.qZA(),a.TgZ(21,"ion-button",14),a.NdJ("click",function(){a.CHM(t);const e=a.oxw().index,o=a.oxw();return o.openModal(o.arrData[e][5],o.arrData[e][6])}),a._uU(22),a.qZA(),a.qZA()}if(2&t){const t=a.oxw().index,e=a.oxw();a.xp6(5),a.Oqu(e.arrData[t][0]),a.xp6(5),a.Oqu(e.arrData[t][1]),a.xp6(5),a.Oqu(e.arrData[t][2]),a.xp6(5),a.Oqu(e.arrData[t][3]),a.xp6(2),a.Oqu(e.arrData[t][4])}}function g(t,e){if(1&t&&(a.TgZ(0,"div"),a.YNc(1,d,27,5,"div",9),a.YNc(2,u,23,5,"ng-template",null,10,a.W1O),a.qZA()),2&t){const t=a.MAs(3),e=a.oxw();a.xp6(1),a.Q6J("ngIf","supervision"==e.type)("ngIfElse",t)}}let p=(()=>{class t{constructor(t,e,o,n,i,a,s,r){this.router=t,this.postPvd=e,this.toastController=o,this.menuCtrl=n,this.modalController=i,this.actionSheetController=a,this.alertController=s,this.plt=r}ngOnInit(){this.getData()}backButton(){this.modalController.dismiss({dismissed:!0})}getData(){return new Promise(t=>{let e={action:"rbtgetworkdetails",ucode:localStorage.getItem("UCODE"),date:this.yrmonth+"-"+this.day,day:this.day,type:this.type};this.postPvd.postData(e,localStorage.getItem("HOMELINK")).subscribe(t=>{"ok"==t.status?(this.arrData=t.details,this.thisDay=t.date,console.log(t)):this.openToaste("Error occured!")})})}openModal(t,e){return(0,n.mG)(this,void 0,void 0,function*(){const o=yield this.modalController.create({component:i.w,componentProps:{type:t,code:e}});return o.onDidDismiss().then(t=>{this.getData()}),yield o.present()})}openToaste(t){return(0,n.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+t+"</center>",duration:2e3,color:"danger"})).present()})}doRefresh(t){setTimeout(()=>{this.getData(),t.target.complete()},2e3)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(s.F0),a.Y36(r.B),a.Y36(l.yF),a.Y36(l._q),a.Y36(l.IN),a.Y36(l.BX),a.Y36(l.Br),a.Y36(l.t4))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-work-schedule-details"]],inputs:{day:"day",yrmonth:"yrmonth",title:"title",type:"type",yr:"yr"},decls:24,vars:3,consts:[["slot","start"],[3,"click"],["name","chevron-back-outline",1,"return"],["slot","fixed",3,"ionRefresh"],[1,"tblclass"],["size","3",1,"head"],["size","9",1,"head"],["size","12",1,"header-r"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["work",""],[1,"gridstyle"],["size","4"],["size","8","text-wrap",""],["size","small",3,"click"]],template:function(t,e){1&t&&(a.TgZ(0,"ion-header"),a.TgZ(1,"ion-toolbar"),a.TgZ(2,"ion-buttons",0),a.TgZ(3,"ion-button",1),a.NdJ("click",function(){return e.backButton()}),a._UZ(4,"ion-icon",2),a.TgZ(5,"ion-label"),a._uU(6,"Back"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(7,"ion-content"),a.TgZ(8,"ion-refresher",3),a.NdJ("ionRefresh",function(t){return e.doRefresh(t)}),a._UZ(9,"ion-refresher-content"),a.qZA(),a.TgZ(10,"ion-list"),a.TgZ(11,"ion-list-header"),a.TgZ(12,"ion-label"),a._uU(13),a.qZA(),a.qZA(),a.qZA(),a.TgZ(14,"ion-grid",4),a.TgZ(15,"ion-row"),a.TgZ(16,"ion-col",5),a._uU(17,"Date:"),a.qZA(),a.TgZ(18,"ion-col",6),a._uU(19),a.qZA(),a.qZA(),a.TgZ(20,"ion-row"),a.TgZ(21,"ion-col",7),a._uU(22,"Details"),a.qZA(),a.qZA(),a.YNc(23,g,4,2,"div",8),a.qZA(),a.qZA()),2&t&&(a.xp6(13),a.Oqu(e.title),a.xp6(6),a.Oqu(e.thisDay),a.xp6(4),a.Q6J("ngForOf",e.arrData))},directives:[l.Gu,l.sr,l.Sm,l.YG,l.gu,l.Q$,l.W2,l.nJ,l.Wo,l.q_,l.yh,l.jY,l.Nd,l.wI,c.sg,c.O5],styles:["ion-list-header[_ngcontent-%COMP%]{color:#202945;font-weight:500;font-family:Poetsen One;font-size:larger;text-align:center;margin-left:-10px!important}ion-button[_ngcontent-%COMP%]{text-transform:none;font-family:Poetsen One}ion-col[_ngcontent-%COMP%], ion-col[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{font-size:12px;text-align:justify}.head[_ngcontent-%COMP%]{font-weight:400;font-size:13px}.head[_ngcontent-%COMP%], .header-r[_ngcontent-%COMP%]{text-align:center;font-family:Poetsen One}.header-r[_ngcontent-%COMP%]{font-size:14px;background-color:#ffb444}.header-r[_ngcontent-%COMP%], .header-r1[_ngcontent-%COMP%]{border:1px solid #000}.header-r1[_ngcontent-%COMP%]{border-top:0!important}.gridstyle[_ngcontent-%COMP%]{border:2px solid #000;background-color:#fff}"]}),t})()}}]);