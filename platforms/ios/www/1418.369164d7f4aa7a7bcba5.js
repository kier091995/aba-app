(self.webpackChunkrbt_1=self.webpackChunkrbt_1||[]).push([[1418],{1418:(t,e,o)=>{"use strict";o.r(e),o.d(e,{BcbaCalendarModalDetailsPageModule:()=>g});var n=o(6274),i=o(4988),r=o(4683),a=o(3991),s=o(2218),l=o(3606);const c=[{path:"",component:s.k}];let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[a.Bz.forChild(c)],a.Bz]}),t})(),g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[n.ez,i.u5,r.Pc,u]]}),t})()},2218:(t,e,o)=>{"use strict";o.d(e,{k:()=>q});var n=o(1855),i=o(3709),r=o(3606),a=o(3991),s=o(427),l=o(4683),c=o(6274),u=o(4988);function g(t,e){if(1&t&&(r.TgZ(0,"ion-row"),r.TgZ(1,"ion-col",5),r._uU(2,"Time:"),r.qZA(),r.TgZ(3,"ion-col",6),r._uU(4),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(4),r.Oqu(t.time)}}function d(t,e){if(1&t&&(r.TgZ(0,"ion-select-option",22),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.s9C("value",t),r.xp6(1),r.Oqu(t)}}function Z(t,e){if(1&t){const t=r.EpF();r.ynx(0),r.TgZ(1,"form",15),r.NdJ("ngSubmit",function(){r.CHM(t);const e=r.MAs(12),o=r.MAs(7);return r.oxw(3).logForm(e.value,o.value)}),r.TgZ(2,"ion-item"),r.TgZ(3,"ion-label"),r._uU(4,"Note:"),r.qZA(),r._UZ(5,"ion-input",16),r.qZA(),r._UZ(6,"input",17,18),r.TgZ(8,"ion-item"),r.TgZ(9,"ion-label"),r._uU(10,"Sched Type:"),r.qZA(),r.TgZ(11,"ion-select",null,19),r.YNc(13,d,2,2,"ion-select-option",20),r.qZA(),r.qZA(),r.TgZ(14,"ion-button",21),r._uU(15,"Approve"),r.qZA(),r.qZA(),r.BQk()}if(2&t){const t=r.oxw(2).index,e=r.oxw();r.xp6(5),r.s9C("value",e.arrData[t][5]),r.xp6(1),r.s9C("value",e.arrData[t][0]),r.xp6(7),r.Q6J("ngForOf",e.arrData[t][1])}}function h(t,e){1&t&&r._UZ(0,"ion-input",16),2&t&&r.s9C("value",e.$implicit)}function p(t,e){if(1&t&&(r.TgZ(0,"ion-item"),r.TgZ(1,"ion-label"),r._uU(2,"Note:"),r.qZA(),r._UZ(3,"ion-input",16),r.qZA(),r.TgZ(4,"ion-item"),r.TgZ(5,"ion-label"),r._uU(6,"Status:"),r.qZA(),r._UZ(7,"ion-input",16),r.qZA(),r.TgZ(8,"ion-item"),r.TgZ(9,"ion-label"),r._uU(10,"Sched Type:"),r.qZA(),r.YNc(11,h,1,1,"ion-input",23),r.qZA()),2&t){const t=r.oxw(2).index,e=r.oxw();r.xp6(3),r.s9C("value",e.arrData[t][5]),r.xp6(4),r.s9C("value",e.arrData[t][6]),r.xp6(4),r.Q6J("ngForOf",e.arrData[t][1])}}function m(t,e){if(1&t&&(r.TgZ(0,"ion-col",12),r.TgZ(1,"ion-item"),r.TgZ(2,"p"),r.TgZ(3,"strong"),r._uU(4),r.qZA(),r._uU(5," wants you to supervise his/her work at "),r.TgZ(6,"strong"),r._uU(7),r.qZA(),r.qZA(),r.qZA(),r.YNc(8,Z,16,3,"ng-container",13),r.YNc(9,p,12,3,"ng-template",null,14,r.W1O),r.qZA()),2&t){const t=r.MAs(10),e=r.oxw().index,o=r.oxw();r.xp6(4),r.Oqu(o.arrData[e][2]),r.xp6(3),r.AsE("",o.arrData[e][3]," at ",o.arrData[e][4]," "),r.xp6(1),r.Q6J("ngIf",""!=o.arrData[e][0])("ngIfElse",t)}}function f(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"ion-col",24),r.TgZ(1,"ion-item"),r.TgZ(2,"ion-label",25),r._uU(3,"RBT:"),r.qZA(),r._UZ(4,"ion-input",16),r.qZA(),r.TgZ(5,"ion-item"),r.TgZ(6,"ion-label",25),r._uU(7,"Company:"),r.qZA(),r._UZ(8,"ion-input",16),r.qZA(),r.TgZ(9,"ion-item"),r.TgZ(10,"ion-label",25),r._uU(11,"Time:"),r.qZA(),r._UZ(12,"ion-input",16),r.qZA(),r.TgZ(13,"ion-item"),r.TgZ(14,"ion-label",25),r._uU(15,"Note:"),r.qZA(),r.TgZ(16,"p"),r._uU(17),r.qZA(),r.TgZ(18,"ion-button",26),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().index,o=r.oxw();return o.log(o.arrData[e][5],o.arrData[e][6])}),r._uU(19),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw().index,e=r.oxw();r.xp6(4),r.s9C("value",e.arrData[t][0]),r.xp6(4),r.s9C("value",e.arrData[t][1]),r.xp6(4),r.s9C("value",e.arrData[t][2]),r.xp6(5),r.Oqu(e.arrData[t][3]),r.xp6(2),r.Oqu(e.arrData[t][4])}}function T(t,e){if(1&t&&(r.TgZ(0,"ion-row"),r.YNc(1,m,11,5,"ion-col",10),r.YNc(2,f,20,5,"ng-template",null,11,r.W1O),r.qZA()),2&t){const t=r.MAs(3),e=r.oxw();r.xp6(1),r.Q6J("ngIf","x"!=e.time)("ngIfElse",t)}}let q=(()=>{class t{constructor(t,e,o,n,i,r,a,s){this.router=t,this.postPvd=e,this.toastController=o,this.menuCtrl=n,this.modalController=i,this.actionSheetController=r,this.alertController=a,this.plt=s}ngOnInit(){var t=this.yrmonth.split(" ");this.thisDay=t[0]+" "+this.day+", "+t[1],this.getData(this.time)}backButton(){this.modalController.dismiss({dismissed:!0})}getData(t){return""!=this.codesched?(this.title="Schedule Request",new Promise(t=>{let e={action:"fetchScheduleList",ucode:localStorage.getItem("UCODE"),schedcode:this.codesched,time:this.time,yrmonth:this.yrmonth,day:this.day};console.log(this.time),this.postPvd.postData(e,localStorage.getItem("HOMELINK")).subscribe(t=>{"ok"==t.status?this.arrData=t.details:this.openToaste("Error occured!")})})):(this.title="RBT Work Schedule",new Promise(t=>{let e={action:"fetchworkschedbcba",ucode:localStorage.getItem("UCODE"),date:this.thisDay};this.postPvd.postData(e,localStorage.getItem("HOMELINK")).subscribe(t=>{"ok"==t.status?(this.arrData=t.details,console.log(t.details)):this.openToaste("Error occured!")})}))}openToasts(t){return(0,n.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+t+"</center>",duration:2e3,color:"success"})).present()})}openToaste(t){return(0,n.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+t+"</center>",duration:2e3,color:"danger"})).present()})}doRefresh(t){setTimeout(()=>{this.getData(""),t.target.complete()},2e3)}logForm(t,e){if(""!=t)return new Promise(o=>{this.postPvd.postData({action:"approveSched",datacode:e,type:t},localStorage.getItem("HOMELINK")).subscribe(t=>{"ok"==t.status?(this.openToasts("The schedule is approve!"),setTimeout(()=>{this.getData("")},2e3)):this.openToaste("Error occured!")})});this.openToaste("Please select a sched type!")}log(t,e){this.goLog(e,t)}goLog(t,e){return(0,n.mG)(this,void 0,void 0,function*(){const o=yield this.modalController.create({component:i.G,componentProps:{ucode:localStorage.getItem("UCODE"),code:t,type:e}});return o.onDidDismiss().then(t=>{this.getData("")}),yield o.present()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(a.F0),r.Y36(s.B),r.Y36(l.yF),r.Y36(l._q),r.Y36(l.IN),r.Y36(l.BX),r.Y36(l.Br),r.Y36(l.t4))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-bcba-calendar-modal-details"]],inputs:{codesched:"codesched",yrmonth:"yrmonth",day:"day",time:"time",title:"title"},decls:25,vars:4,consts:[["slot","start"],[3,"click"],["name","chevron-back-outline",1,"return"],["slot","fixed",3,"ionRefresh"],[1,"tblclass"],["size","3",1,"head"],["size","9",1,"head"],[4,"ngIf"],["size","12",1,"header-r"],[4,"ngFor","ngForOf"],["class","header-r1","size","12",4,"ngIf","ngIfElse"],["notime",""],["size","12",1,"header-r1"],[4,"ngIf","ngIfElse"],["thiselse",""],[3,"ngSubmit"],["readonly","",3,"value"],["type","hidden",3,"value"],["hdncode",""],["sel",""],[3,"value",4,"ngFor","ngForOf"],["button","","color","secondary","expand","block","type","submit"],[3,"value"],["readonly","",3,"value",4,"ngFor","ngForOf"],[1,"header-r1"],["position","stacked"],["size","small",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"ion-header"),r.TgZ(1,"ion-toolbar"),r.TgZ(2,"ion-buttons",0),r.TgZ(3,"ion-button",1),r.NdJ("click",function(){return e.backButton()}),r._UZ(4,"ion-icon",2),r.TgZ(5,"ion-label"),r._uU(6,"Back"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"ion-content"),r.TgZ(8,"ion-refresher",3),r.NdJ("ionRefresh",function(t){return e.doRefresh(t)}),r._UZ(9,"ion-refresher-content"),r.qZA(),r.TgZ(10,"ion-list"),r.TgZ(11,"ion-list-header"),r.TgZ(12,"ion-label"),r._uU(13),r.qZA(),r.qZA(),r.qZA(),r.TgZ(14,"ion-grid",4),r.TgZ(15,"ion-row"),r.TgZ(16,"ion-col",5),r._uU(17,"Date:"),r.qZA(),r.TgZ(18,"ion-col",6),r._uU(19),r.qZA(),r.qZA(),r.YNc(20,g,5,1,"ion-row",7),r.TgZ(21,"ion-row"),r.TgZ(22,"ion-col",8),r._uU(23,"Details"),r.qZA(),r.qZA(),r.YNc(24,T,4,2,"ion-row",9),r.qZA(),r.qZA()),2&t&&(r.xp6(13),r.Oqu(e.title),r.xp6(6),r.Oqu(e.thisDay),r.xp6(1),r.Q6J("ngIf","x"!=e.time),r.xp6(4),r.Q6J("ngForOf",e.arrData))},directives:[l.Gu,l.sr,l.Sm,l.YG,l.gu,l.Q$,l.W2,l.nJ,l.Wo,l.q_,l.yh,l.jY,l.Nd,l.wI,c.O5,c.sg,l.Ie,u._Y,u.JL,u.F,l.pK,l.j9,l.t9,l.QI,l.n0],styles:["ion-list-header[_ngcontent-%COMP%]{color:#202945;font-weight:500;font-family:Poetsen One;font-size:larger;text-align:center;margin-left:-10px!important}ion-button[_ngcontent-%COMP%]{text-transform:none;font-family:Poetsen One}ion-col[_ngcontent-%COMP%], ion-col[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{font-size:12px;text-align:justify}.head[_ngcontent-%COMP%]{font-weight:400;font-size:13px}.head[_ngcontent-%COMP%], .header-r[_ngcontent-%COMP%]{text-align:center;font-family:Poetsen One}.header-r[_ngcontent-%COMP%]{font-size:14px;background-color:#ffb444}.header-r[_ngcontent-%COMP%], .header-r1[_ngcontent-%COMP%]{border:1px solid #000}.header-r1[_ngcontent-%COMP%]{border-top:0!important}"]}),t})()}}]);