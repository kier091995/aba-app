(self.webpackChunkrbt_1=self.webpackChunkrbt_1||[]).push([[8915],{8915:(t,e,o)=>{"use strict";o.r(e),o.d(e,{TaskTrackerPageModule:()=>u});var n=o(6274),i=o(4988),s=o(4683),a=o(3991),l=o(4904),c=o(3606);const r=[{path:"",component:l.w}];let d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[a.Bz.forChild(r)],a.Bz]}),t})(),u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[n.ez,i.u5,s.Pc,d]]}),t})()},4904:(t,e,o)=>{"use strict";o.d(e,{w:()=>p});var n=o(1855),i=o(3606),s=o(3991),a=o(427),l=o(4683),c=o(6274);function r(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"ion-button",22),i.NdJ("click",function(){return i.CHM(t),i.oxw().btnappend()}),i._UZ(1,"ion-icon",23),i.qZA()}}function d(t,e){1&t&&(i.TgZ(0,"div",24),i.TgZ(1,"ion-row"),i.TgZ(2,"ion-col",25),i._UZ(3,"input",26),i.qZA(),i.TgZ(4,"ion-col",27),i.TgZ(5,"label"),i._uU(6,"Service Type:"),i.qZA(),i._UZ(7,"select",28),i.TgZ(8,"label"),i._uU(9,"Service Subtype: "),i.qZA(),i._UZ(10,"select",29),i.TgZ(11,"label"),i._uU(12,"Comment:"),i.qZA(),i._UZ(13,"textarea",30),i.qZA(),i.TgZ(14,"ion-col",19),i._UZ(15,"label",31),i.qZA(),i.qZA(),i.qZA())}function u(t,e){1&t&&(i.TgZ(0,"ion-button",32),i._uU(1,"Save"),i.qZA())}let p=(()=>{class t{constructor(t,e,o,n,i,s,a,l){this.router=t,this.postPvd=e,this.toastController=o,this.menuCtrl=n,this.modalController=i,this.actionSheetController=s,this.alertController=a,this.plt=l}ngOnInit(){console.log(this.type,this.code),this.name=localStorage.getItem("NAME");var t=this.code;if("view"!=this.type)this.getData(),$("body").on("change",".stype",function(){console.log($(this).find(":selected").text());var t=$(this).find(":selected").val(),e=$(this).attr("attr"),o=localStorage.getItem("HOMELINK").slice(0,-1)+"1/";console.log(o),$.ajax({url:o,type:"POST",dataType:"json",data:{code:t,action:"subtype"},success:function(t){console.log(t),$(".sub"+e).html(t.PTS)}})}),$("body").on("change",".time",function(){var t=$(this).attr("attr");console.log(t,$(this).val()),$("."+t).html($(this).val());var e=$(this).val().split(":"),o=parseInt(e[0]),n=parseInt(e[1]),i=Math.abs(o)+"."+Math.abs(n);$("."+t).html(i),function(){var t=0;$(".total").each(function(){var e=$(this).text();e&&(t+=parseInt(e),console.log(e))}),console.log(.05*t);var e=.05*t;$(".finaltotal").html(e.toFixed(2))}()}),$("body").on("click","#save",function(){var t=0,e=[];if($(".req").each(function(){""==$(this).val()&&(t++,e.push($(this)))}),0==t){var o=localStorage.getItem("HOMELINK").slice(0,-1)+"1/",i=[],s=[],a=[],l=[],c=[];$(".total").each(function(){""!=$(this).html()&&c.push($(this).html())}),$(".stype").each(function(){""!=$(this).find(":selected").text()&&i.push($(this).find(":selected").text())}),$(".sub").each(function(){""!=$(this).find(":selected").text()&&s.push($(this).find(":selected").text())}),$(".comment").each(function(){""!=$(this).val()&&a.push($(this).val())}),$(".time").each(function(){""!=$(this).val()&&l.push($(this).val())}),$.ajax({url:o,type:"POST",dataType:"json",data:{action:"save",ucode:localStorage.getItem("UCODE"),newcode:$(".newcode").val(),bcba:$(".supervisorcode").val(),stime:$(".stime").val(),etime:$(".etime").val(),date:$(".date").html(),duration:l,protype:i,prosub:s,cmnt:a,totalX:c},success:function(t){!function(t){(0,n.mG)(this,void 0,void 0,function*(){const t=document.createElement("ion-toast");return t.message="<center>Task log create successful!</center>",t.duration=2e3,t.color="success",document.body.appendChild(t),t.present()})}(),setTimeout(function(){console.log("back"),$("#back").click()},3e3)}})}else e[0].focus(),e[0].css("border","1px solid red"),setTimeout(function(){e[0].removeAttr("style")},5e3)});else if("view"==this.type){var e=localStorage.getItem("HOMELINK").slice(0,-1)+"1/";$.ajax({url:e,type:"POST",dataType:"json",data:{action:"view",ucode:localStorage.getItem("UCODE"),code:t},success:function(t){console.log(t),$("#x").html(t.datax),$(".finaltotal").html(t.total),$(".visor").html(t.visor),$(".date").html(t.date)}})}}getData(){return new Promise(t=>{let e={action:"rbtgettaskcreate",ucode:localStorage.getItem("UCODE"),type:this.type,code:this.code};this.postPvd.postData(e,localStorage.getItem("HOMELINK")).subscribe(t=>{"ok"==t.status?(this.arrData=t.datax,this.newcode=this.arrData.newcode,this.supervisorcode=this.arrData.supervisorcode,this.stime=this.arrData.stime,this.etime=this.arrData.etime,this.visor=t.supervisor,this.date=t.date,$(".pt1").append(t.PT),this.PT=t.PT,console.log(t)):this.openToaste("Error occured!")})})}btnappend(){var t=$(".stype").length;t++;var e='style="border: 1px solid"',o='style="width: 100%; font-size: 12px"',n="style=\"font-family: 'Poetsen One';font-size: 12px;\"";$("#divappend").append('\n\t\t\t<ion-row>\n\t\t\t\t<ion-col class="datalist" size="4" '+e+'>\n\t\t\t\t\t<input type="time" class="time req" attr="total'+t+'" style="font-size: 10px;width: 100%;">\n\t\t\t\t</ion-col>\n\t\t\t\t<ion-col class="datalist" size="6" '+e+'>\n\t\t\t\t\t<ion-label position="stacked" '+n+'>Service Type: </ion-label>\n\t\t\t\t\t<select class="stype pt'+t+' req" attr="pt'+t+'" '+o+">"+this.PT+'</select>\n\t\t\t\t\t\n\t\t\t\t\t<ion-label position="stacked" '+n+'>Service Subtype: </ion-label>\n\t\t\t\t\t<select class="subpt'+t+' req" '+o+'></select>\n\n\t\t\t\t\t<ion-label position="stacked" '+n+'>Comment:</ion-label>\n\t\t\t\t\t<textarea class="csscomment comment" cols="30" rows="10" style="font-size:12px;width: 100%;"></textarea>\n\t\t\t\t</ion-col>\n\t\t\t\t<ion-col class="datalist" size="2" '+e+'>\n\t\t\t\t<label class="total total'+t+'" '+n+"></label>\n\t\t\t\t</ion-col>\n\t\t\t</ion-row>\n\t\t")}openToaste(t){return(0,n.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+t+"</center>",duration:2e3,color:"danger"})).present()})}backButton(){this.modalController.dismiss({dismissed:!0})}doRefresh(t){setTimeout(()=>{this.getData(),t.target.complete()},2e3)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(s.F0),i.Y36(a.B),i.Y36(l.yF),i.Y36(l._q),i.Y36(l.IN),i.Y36(l.BX),i.Y36(l.Br),i.Y36(l.t4))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-task-tracker"]],inputs:{type:"type",code:"code"},decls:50,vars:10,consts:[["slot","start"],["id","back",3,"click"],["name","chevron-back-outline",1,"return"],[1,"tblclass"],["size","7",1,"head"],["size","5",1,"head"],["type","hidden",1,"newcode",3,"value"],["type","hidden",1,"supervisorcode",3,"value"],["type","hidden",1,"stime",3,"value"],["type","hidden",1,"etime",3,"value"],["size","5",1,"visor"],["size","5",1,"date"],["size","4",1,"headlist"],["size","small","color","primary","id","btnappend",3,"click",4,"ngIf"],["size","6",1,"headlist"],["size","2",1,"headlist"],["id","divappend",4,"ngIf"],["id","x"],["size","10",1,"headlist"],["size","2",1,"datalist"],[1,"finaltotal"],["id","save","color","secondary","size","small","expand","block",4,"ngIf"],["size","small","color","primary","id","btnappend",3,"click"],["name","add-outline","shape","round","fill","outline"],["id","divappend"],["size","4",1,"datalist"],["type","time","attr","total1",1,"time","req"],["size","6",1,"datalist"],["attr","pt1",1,"stype","pt1","req"],[1,"sub","subpt1"],["cols","30","rows","10",1,"csscomment","comment"],[1,"total","total1"],["id","save","color","secondary","size","small","expand","block"]],template:function(t,e){1&t&&(i.TgZ(0,"ion-header"),i.TgZ(1,"ion-toolbar"),i.TgZ(2,"ion-buttons",0),i.TgZ(3,"ion-button",1),i.NdJ("click",function(){return e.backButton()}),i._UZ(4,"ion-icon",2),i.TgZ(5,"ion-label"),i._uU(6,"Back"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(7,"ion-content"),i.TgZ(8,"ion-list"),i.TgZ(9,"ion-list-header"),i.TgZ(10,"ion-label"),i._uU(11,"RBT Task Log"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"ion-grid",3),i.TgZ(13,"ion-row"),i.TgZ(14,"ion-col",4),i._uU(15,"Registered Behavior Technician :"),i.qZA(),i.TgZ(16,"ion-col",5),i._uU(17),i.qZA(),i._UZ(18,"input",6),i._UZ(19,"input",7),i._UZ(20,"input",8),i._UZ(21,"input",9),i.qZA(),i.TgZ(22,"ion-row"),i.TgZ(23,"ion-col",4),i._uU(24,"Supervisor :"),i.qZA(),i.TgZ(25,"ion-col",10),i._uU(26),i.qZA(),i.qZA(),i.TgZ(27,"ion-row"),i.TgZ(28,"ion-col",4),i._uU(29,"Date of Supervision :"),i.qZA(),i.TgZ(30,"ion-col",11),i._uU(31),i.qZA(),i.qZA(),i.TgZ(32,"ion-row"),i.TgZ(33,"ion-col",12),i._uU(34,"Shift Schedule (Duration) "),i.YNc(35,r,2,0,"ion-button",13),i.qZA(),i.TgZ(36,"ion-col",14),i._uU(37,"Behavior-Analytic Services Implemented During Shift"),i.qZA(),i.TgZ(38,"ion-col",15),i._uU(39,"Total Time"),i.qZA(),i.qZA(),i.YNc(40,d,16,0,"div",16),i._UZ(41,"div",17),i.TgZ(42,"ion-row"),i.TgZ(43,"ion-col",18),i._uU(44," Total Amount of BCBA Supervision Required "),i._UZ(45,"br"),i._uU(46," (5% of total hours implementing behavior-analytic services) "),i.qZA(),i.TgZ(47,"ion-col",19),i._UZ(48,"label",20),i.qZA(),i.qZA(),i.qZA(),i.YNc(49,u,2,0,"ion-button",21),i.qZA()),2&t&&(i.xp6(17),i.Oqu(e.name),i.xp6(1),i.s9C("value",e.newcode),i.xp6(1),i.s9C("value",e.supervisorcode),i.xp6(1),i.s9C("value",e.stime),i.xp6(1),i.s9C("value",e.etime),i.xp6(5),i.Oqu(e.visor),i.xp6(5),i.Oqu(e.date),i.xp6(4),i.Q6J("ngIf","create"==e.type),i.xp6(5),i.Q6J("ngIf","create"==e.type),i.xp6(9),i.Q6J("ngIf","create"==e.type))},directives:[l.Gu,l.sr,l.Sm,l.YG,l.gu,l.Q$,l.W2,l.q_,l.yh,l.jY,l.Nd,l.wI,c.O5],styles:["ion-content[_ngcontent-%COMP%]{background-color:#fff}ion-list-header[_ngcontent-%COMP%]{color:#202945;font-weight:500;font-family:Poetsen One;font-size:larger;text-align:center;margin-left:-10px!important}ion-button[_ngcontent-%COMP%]{text-transform:none;font-family:Poetsen One}ion-col[_ngcontent-%COMP%], ion-col[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{font-size:12px;text-align:justify}.head[_ngcontent-%COMP%], .headlist[_ngcontent-%COMP%]{text-align:center;font-weight:400;font-size:12px;font-family:Poetsen One}.headlist[_ngcontent-%COMP%]{background-color:#ffb444}.datalist[_ngcontent-%COMP%], .headlist[_ngcontent-%COMP%]{border:.01em solid #000;margin-bottom:-1px}.datalist[_ngcontent-%COMP%]{text-align:center;font-weight:400;font-size:12px;background-color:#fff}ion-label[_ngcontent-%COMP%]   .labelclass[_ngcontent-%COMP%]{font-size:12px!important}select[_ngcontent-%COMP%]{width:100%;font-size:13px}ion-datetime[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border-bottom:1px solid #000!important}.left[_ngcontent-%COMP%]{width:40%}.mid[_ngcontent-%COMP%]{width:60%}.right[_ngcontent-%COMP%]{width:20%}.time[_ngcontent-%COMP%]{font-size:10px;width:100%}.csscomment[_ngcontent-%COMP%]{width:100%;font-size:12px}option[_ngcontent-%COMP%]{overflow-wrap:break-word;word-wrap:break-word}"]}),t})()}}]);