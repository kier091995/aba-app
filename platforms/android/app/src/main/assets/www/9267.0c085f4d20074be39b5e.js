(self.webpackChunkrbt_1=self.webpackChunkrbt_1||[]).push([[9267],{9267:(e,t,o)=>{"use strict";o.r(t),o.d(t,{ForgotPasswordPageModule:()=>u});var n=o(6274),i=o(4988),s=o(4683),r=o(3991),a=o(1855),c=o(3606),d=o(427);const l=[{path:"",component:(()=>{class e{constructor(e,t,o,n){this.location=e,this.postPvd=t,this.router=o,this.toastController=n,this.email=""}ngOnInit(){}backButton(){this.location.back()}checkEmail(){if(/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/.test(this.email)){var e=localStorage.getItem("HOMELINK").slice(0,-1)+"WithEmails/verifyEmail";$.ajax({url:e,type:"POST",dataType:"json",data:{action:"save",email:this.email},success:function(e){console.log(e),"ok"==e.status?(function(e){(0,a.mG)(this,void 0,void 0,function*(){const e=document.createElement("ion-toast");return e.message="<center><center>Email is verified. Please check the code in your email!</center></center>",e.duration=2e3,e.color="success",document.body.appendChild(e),e.present()})}(),$("#verifyEmail").hide(),$(".showcode").show()):function(e){(0,a.mG)(this,void 0,void 0,function*(){const e=document.createElement("ion-toast");return e.message="<center><center>Email is not registered!</center></center>",e.duration=2e3,e.color="danger",document.body.appendChild(e),e.present()})}()}})}else this.openToaste("Invalid email pattern!")}codeCheck(){var e=$("#codex").val().split("");if(console.log(e.length),5==e.length){var t=localStorage.getItem("HOMELINK").slice(0,-1)+"WithEmails/verifyCode";$.ajax({url:t,type:"POST",dataType:"json",data:{code:$("#codex").val(),email:this.email},success:function(e){console.log(e),"ok"==e.status?($(".showcode").hide(),$(".showverify").show()):function(e){(0,a.mG)(this,void 0,void 0,function*(){const e=document.createElement("ion-toast");return e.message="<center><center>Incorrect code!</center></center>",e.duration=2e3,e.color="danger",document.body.appendChild(e),e.present()})}()}})}}emailCheck(){/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/.test(this.email)?(this.openToasts("Valid email!"),$("#sendEmail").show()):this.openToaste("Invalid email!")}passCheck(){var e=$("#password1").val(),t=$("#password2").val();""!=e&&""!=t?e==t?$("#confirmPassword").show():($("#confirmPassword").hide(),this.openToaste("Password mismatch!")):$("#confirmPassword").hide()}confirmPassword(){return new Promise(e=>{let t={action:"updatePassword",email:this.email,password:$("#password1").val()};this.postPvd.postData(t,localStorage.getItem("HOMELINK")).subscribe(e=>{"ok"==e.status?(this.openToasts("Password updated successfully!"),this.router.navigateByUrl("/login")):this.openToaste("Password update failed!")})})}returnLogin(){this.router.navigate(["/login"])}openToasts(e){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:e,duration:2e3,color:"success"})).present()})}openToaste(e){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+e+"</center>",duration:2e3,color:"danger"})).present()})}openToast(e){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+e+"</center>",duration:3e3})).present()})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(n.Ye),c.Y36(d.B),c.Y36(r.F0),c.Y36(s.yF))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-forgot-password"]],decls:25,vars:1,consts:[["slot","start"],[3,"click"],["name","chevron-back-outline",1,"return"],[1,"box"],["col-6",""],[1,"divimg"],["src","/assets/fieldtracking.png",1,"imgloginlogo"],[1,"rowtop"],["size","12"],["id","email","type","email","placeholder","Email adress",1,"nomargtop",3,"ngModel","ngModelChange"],["id","codex","type","text","placeholder","Reset Code","maxlength","5",1,"showcode",2,"display","none",3,"keyup"],["id","password1","type","text","placeholder","New Password",1,"password","showverify",2,"display","none",3,"keyup"],["id","password2","type","text","placeholder","Confirm Password",1,"password","showverify",2,"display","none",3,"keyup"],["type","submit","id","verifyEmail","value","Verify Email",3,"click"],["type","submit","id","confirmPassword","value","Update password",2,"display","none",3,"click"]],template:function(e,t){1&e&&(c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar"),c.TgZ(2,"ion-buttons",0),c.TgZ(3,"ion-button",1),c.NdJ("click",function(){return t.backButton()}),c._UZ(4,"ion-icon",2),c.TgZ(5,"ion-label"),c._uU(6,"Back"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(7,"ion-content"),c.TgZ(8,"div",3),c.TgZ(9,"ion-grid"),c.TgZ(10,"ion-row"),c.TgZ(11,"ion-col",4),c.TgZ(12,"div",5),c._UZ(13,"img",6),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(14,"h1"),c._uU(15,"Forgot Password"),c.qZA(),c.TgZ(16,"ion-grid"),c.TgZ(17,"ion-row",7),c.TgZ(18,"ion-col",8),c.TgZ(19,"input",9),c.NdJ("ngModelChange",function(e){return t.email=e}),c.qZA(),c.TgZ(20,"input",10),c.NdJ("keyup",function(){return t.codeCheck()}),c.qZA(),c.TgZ(21,"input",11),c.NdJ("keyup",function(){return t.passCheck()}),c.qZA(),c.TgZ(22,"input",12),c.NdJ("keyup",function(){return t.passCheck()}),c.qZA(),c.TgZ(23,"input",13),c.NdJ("click",function(){return t.checkEmail()}),c.qZA(),c.TgZ(24,"input",14),c.NdJ("click",function(){return t.confirmPassword()}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(19),c.Q6J("ngModel",t.email))},directives:[s.Gu,s.sr,s.Sm,s.YG,s.gu,s.Q$,s.W2,s.jY,s.Nd,s.wI,i.Fj,i.JJ,i.On],styles:["@font-face{font-family:Poetsen One;font-style:normal;font-weight:300;font-display:swap;src:url(/assets/fonts/PoetsenOne-Regular.ttf)}ion-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#191a30;border:1px solid #191a30;border-radius:2px;padding:5px}.box[_ngcontent-%COMP%], ion-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center}.box[_ngcontent-%COMP%]{width:300px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#202945;font-weight:500;margin-top:0}.box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Poetsen One}.box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:none;display:block;margin:20px auto;text-align:center;border:2px solid #202945;padding:14px 10px;width:240px;outline:none;color:#000;border-radius:24px;transition:.25s}.box[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus, .box[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{width:260px;border-color:#ffb444}.box[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{border:0;background-color:#202945;text-align:center;padding:14px 40px;color:#ffb444;border-radius:24px;text-transform:uppercase;font-family:Poetsen One;margin:0 auto 20px;font-weight:900}.imgloginlogo[_ngcontent-%COMP%]{width:80%;margin:0 auto}.divimg[_ngcontent-%COMP%]{background-color:initial!important;border:none!important;border-radius:2px;padding:5px;text-align:center}.rowtop[_ngcontent-%COMP%]{padding:0 5px}ion-button[_ngcontent-%COMP%]{text-transform:none;font-family:Poetsen One}"]}),e})()}];let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[r.Bz.forChild(l)],r.Bz]}),e})(),u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[n.ez,i.u5,s.Pc,p]]}),e})()}}]);