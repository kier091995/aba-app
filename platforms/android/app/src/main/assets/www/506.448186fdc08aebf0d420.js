(self.webpackChunkrbt_1=self.webpackChunkrbt_1||[]).push([[506],{506:(e,t,o)=>{"use strict";o.r(t),o.d(t,{BcbaCalendarPageModule:()=>f});var n=o(6274),i=o(4988),r=o(4683),a=o(3991),s=o(1855),c=o(1148),l=o(2218),d=o(3606),g=o(427);function u(e,t){if(1&e&&(d.TgZ(0,"ion-select-option",16),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.s9C("value",e[1]),d.xp6(1),d.Oqu(e[0])}}function h(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"ion-row"),d.TgZ(1,"ion-col",17),d.NdJ("click",function(){const t=d.CHM(e),o=t.$implicit,n=t.index,i=d.oxw();return i.presentActionSheet(o[0],i.schedCode[n][0],i.dateView[n][0])}),d._uU(2),d.qZA(),d.TgZ(3,"ion-col",17),d.NdJ("click",function(){const t=d.CHM(e),o=t.$implicit,n=t.index,i=d.oxw();return i.presentActionSheet(o[1],i.schedCode[n][1],i.dateView[n][1])}),d._uU(4),d.qZA(),d.TgZ(5,"ion-col",17),d.NdJ("click",function(){const t=d.CHM(e),o=t.$implicit,n=t.index,i=d.oxw();return i.presentActionSheet(o[2],i.schedCode[n][2],i.dateView[n][2])}),d._uU(6),d.qZA(),d.TgZ(7,"ion-col",17),d.NdJ("click",function(){const t=d.CHM(e),o=t.$implicit,n=t.index,i=d.oxw();return i.presentActionSheet(o[3],i.schedCode[n][3],i.dateView[n][3])}),d._uU(8),d.qZA(),d.TgZ(9,"ion-col",17),d.NdJ("click",function(){const t=d.CHM(e),o=t.$implicit,n=t.index,i=d.oxw();return i.presentActionSheet(o[4],i.schedCode[n][4],i.dateView[n][4])}),d._uU(10),d.qZA(),d.TgZ(11,"ion-col",17),d.NdJ("click",function(){const t=d.CHM(e),o=t.$implicit,n=t.index,i=d.oxw();return i.presentActionSheet(o[5],i.schedCode[n][5],i.dateView[n][5])}),d._uU(12),d.qZA(),d.TgZ(13,"ion-col",17),d.NdJ("click",function(){const t=d.CHM(e),o=t.$implicit,n=t.index,i=d.oxw();return i.presentActionSheet(o[6],i.schedCode[n][6],i.dateView[n][6])}),d._uU(14),d.qZA(),d.qZA()}if(2&e){const e=t.$implicit,o=t.index,n=d.oxw();d.xp6(1),d.Gre("header-r1 ion",n.arrColor[o][0],""),d.xp6(1),d.Oqu(e[0]),d.xp6(1),d.Gre("header-r1 ion",n.arrColor[o][1],""),d.xp6(1),d.Oqu(e[1]),d.xp6(1),d.Gre("header-r1 ion",n.arrColor[o][2],""),d.xp6(1),d.Oqu(e[2]),d.xp6(1),d.Gre("header-r1 ion",n.arrColor[o][3],""),d.xp6(1),d.Oqu(e[3]),d.xp6(1),d.Gre("header-r1 ion",n.arrColor[o][4],""),d.xp6(1),d.Oqu(e[4]),d.xp6(1),d.Gre("header-r1 ion",n.arrColor[o][5],""),d.xp6(1),d.Oqu(e[5]),d.xp6(1),d.Gre("header1 ion",n.arrColor[o][6],""),d.xp6(1),d.Oqu(e[6])}}const p=[{path:"",component:(()=>{class e{constructor(e,t,o,n,i,r,a){this.router=e,this.postPvd=t,this.toastController=o,this.menuCtrl=n,this.modalController=i,this.actionSheetController=r,this.alertController=a}ngOnInit(){this.min=(new Date).getFullYear().toString()+"-"+((new Date).getMonth()+1).toString().padStart(2,"0"),this.max=((new Date).getFullYear()+1).toString(),this.getCompany()}getCompany(){return new Promise(e=>{let t={action:"getBCBACompany",ucode:localStorage.getItem("UCODE")};this.postPvd.postData(t,localStorage.getItem("HOMELINK")).subscribe(e=>{"ok"==e.status?(this.companies=e.companies,console.log(e),null==e.sign&&this.alertSign()):this.openToaste("Error on fetching details.")})})}alertSign(){return(0,s.mG)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:"Attention!",backdropDismiss:!1,message:'<p style="text-align: justify;">Before you proceed you must upload your signature first!</p>',cssClass:"foo",buttons:[{text:"Go",handler:()=>{this.router.navigateByUrl("/signature-upload")}}]});yield e.present()})}openToasts(e){return(0,s.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+e+"</center>",duration:2e3,color:"success"})).present()})}openToaste(e){return(0,s.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+e+"</center>",duration:2e3,color:"danger"})).present()})}doRefresh(e){setTimeout(()=>{this.ym="",this.company="",this.getCompany(),e.target.complete()},2e3)}optionsFn(){if(null!=this.company&&null!=this.ym&&""!=this.company&&""!=this.ym)return new Promise(e=>{let t={action:"getBCBASched",ucode:localStorage.getItem("UCODE"),company:this.company,ym:this.ym};this.postPvd.postData(t,localStorage.getItem("HOMELINK")).subscribe(e=>{"ok"==e.status?(this.tr=e.dates,this.yrmonth=e.details,this.schedCode=e.schedCode,this.dateView=e.dateView,this.arrColor=e.arrColor,$("#tblData").show(),console.log(this.arrColor)):this.openToaste("Error on fetching details.")})});$("#tblData").hide()}presentActionSheet(e,t,o){return(0,s.mG)(this,void 0,void 0,function*(){if(e){const n=yield this.actionSheetController.create({header:"Schedule: "+o,cssClass:"match-item-action-sheet",buttons:[{text:"My Supervision Availability",cssClass:"actionSheet",handler:()=>{this.openModal(t,"My Supervision Availability",this.yrmonth,e,"BcbaCalendarModalPage")}},{text:"My RBT Work Schedule",cssClass:"actionSheet",handler:()=>{this.openModal("","My RBT Work Schedule",this.yrmonth,e,"BcbaCalendarModalDetailsPage")}}]});yield n.present(),yield n.onDidDismiss()}})}openModal(e,t,o,n,i){return(0,s.mG)(this,void 0,void 0,function*(){var r,a=[];"BcbaCalendarModalPage"==i?(r=c.t,a=[{codesched:e,yrmonth:o,day:n,headertitle:t,company:this.company}]):"BcbaCalendarModalDetailsPage"==i&&(r=l.k,a=[{codesched:e,yrmonth:o,day:n,time:"x",title:"Work Schedule"}]);const s=yield this.modalController.create({component:r,componentProps:a[0]});return s.onDidDismiss().then(e=>{this.optionsFn()}),yield s.present()})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(a.F0),d.Y36(g.B),d.Y36(r.yF),d.Y36(r._q),d.Y36(r.IN),d.Y36(r.BX),d.Y36(r.Br))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-bcba-calendar"]],decls:49,vars:7,consts:[["slot","start"],["autoHide","false"],["slot","fixed",3,"ionRefresh"],["position","floating"],["display-format","MMMM-YYYY",3,"min","max","ngModel","ngModelChange","ionChange"],[3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["id","tblData",1,"tblclass",2,"display","none"],["size","12",1,"head"],[1,"ionactive"],[1,"ionactivesuper"],[1,"ionactivework"],[1,"ionactivesuperwork"],["size","1.7",1,"header-r"],["size","1.7",1,"header"],[4,"ngFor","ngForOf"],[3,"value"],["button","","size","1.7",3,"click"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d._UZ(3,"ion-menu-button",1),d.qZA(),d.qZA(),d.qZA(),d.TgZ(4,"ion-content"),d.TgZ(5,"ion-refresher",2),d.NdJ("ionRefresh",function(e){return t.doRefresh(e)}),d._UZ(6,"ion-refresher-content"),d.qZA(),d.TgZ(7,"ion-list"),d.TgZ(8,"ion-list-header"),d.TgZ(9,"ion-label"),d._uU(10,"BCBA Calendar"),d.qZA(),d.qZA(),d.TgZ(11,"ion-item"),d.TgZ(12,"ion-label",3),d._uU(13,"Select year and month: "),d.qZA(),d.TgZ(14,"ion-datetime",4),d.NdJ("ngModelChange",function(e){return t.ym=e})("ionChange",function(){return t.optionsFn()}),d.qZA(),d.qZA(),d.TgZ(15,"ion-item"),d.TgZ(16,"ion-label",3),d._uU(17,"Select company: "),d.qZA(),d.TgZ(18,"ion-select",5),d.NdJ("ngModelChange",function(e){return t.company=e})("ionChange",function(){return t.optionsFn()}),d.YNc(19,u,2,2,"ion-select-option",6),d.qZA(),d.qZA(),d.qZA(),d.TgZ(20,"ion-grid",7),d.TgZ(21,"ion-row"),d.TgZ(22,"ion-col",8),d._uU(23),d.qZA(),d.qZA(),d.TgZ(24,"ion-row"),d.TgZ(25,"ion-badge",9),d._uU(26,"Active"),d.qZA(),d.TgZ(27,"ion-badge",10),d._uU(28,"Supervision"),d.qZA(),d.TgZ(29,"ion-badge",11),d._uU(30,"Work Sched"),d.qZA(),d.TgZ(31,"ion-badge",12),d._uU(32,"Supervision & Work Sched"),d.qZA(),d.qZA(),d.TgZ(33,"ion-row"),d.TgZ(34,"ion-col",13),d._uU(35,"Sun"),d.qZA(),d.TgZ(36,"ion-col",13),d._uU(37,"Mon"),d.qZA(),d.TgZ(38,"ion-col",13),d._uU(39,"Tue"),d.qZA(),d.TgZ(40,"ion-col",13),d._uU(41,"Wed"),d.qZA(),d.TgZ(42,"ion-col",13),d._uU(43,"Thu"),d.qZA(),d.TgZ(44,"ion-col",13),d._uU(45,"Fri"),d.qZA(),d.TgZ(46,"ion-col",14),d._uU(47,"Sat"),d.qZA(),d.qZA(),d.YNc(48,h,15,28,"ion-row",15),d.qZA(),d.qZA()),2&e&&(d.xp6(14),d.s9C("min",t.min),d.s9C("max",t.max),d.Q6J("ngModel",t.ym),d.xp6(4),d.Q6J("ngModel",t.company),d.xp6(1),d.Q6J("ngForOf",t.companies),d.xp6(4),d.Oqu(t.yrmonth),d.xp6(25),d.Q6J("ngForOf",t.tr))},directives:[r.Gu,r.sr,r.Sm,r.fG,r.W2,r.nJ,r.Wo,r.q_,r.yh,r.Q$,r.Ie,r.x4,r.QI,i.JJ,i.On,r.t9,n.sg,r.jY,r.Nd,r.wI,r.yp,r.n0],styles:["@font-face{font-family:Poetsen One;font-style:normal;font-weight:300;font-display:swap;src:url(/assets/fonts/PoetsenOne-Regular.ttf)}ion-list-header[_ngcontent-%COMP%]{color:#202945;font-weight:500;font-family:Poetsen One;font-size:larger;text-align:center;margin-left:-10px!important}.tblclass[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{text-transform:none}.head[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-family:Poetsen One}.header[_ngcontent-%COMP%], .header-r[_ngcontent-%COMP%]{border:1px solid #000;font-size:12px;text-align:center;background-color:#ffb444;font-family:Poetsen One}.header-r[_ngcontent-%COMP%]{border-right:0!important}.header1[_ngcontent-%COMP%], .header-r1[_ngcontent-%COMP%]{border:1px solid #000;border-top:0!important;font-size:10px;text-align:right;padding-bottom:13px;text-decoration:underline;background-color:#d5d5d5}.header-r1[_ngcontent-%COMP%]{border-right:0!important}ion-item[_ngcontent-%COMP%]{font-size:14px}ion-badge[_ngcontent-%COMP%]{font-size:8px;margin-right:1.5px;margin-bottom:5px}.ionactive[_ngcontent-%COMP%]{background-color:#fff}.ionactive[_ngcontent-%COMP%], .ionactivesuper[_ngcontent-%COMP%]{color:#202945;border:1px solid #000}.ionactivesuper[_ngcontent-%COMP%]{background-color:#ffe61b}.ionactivework[_ngcontent-%COMP%]{background-color:#ff8c5d;color:#ffe61b;border:1px solid #000}.ionactivesuperwork[_ngcontent-%COMP%]{background-color:#ffb44b;color:#202945;border:1px solid #000}"]}),e})()}];let m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[a.Bz.forChild(p)],a.Bz]}),e})(),f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[n.ez,i.u5,r.Pc,m]]}),e})()}}]);