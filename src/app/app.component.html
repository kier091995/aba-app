<ion-app>
	<ion-menu contentId="main-content" type="overlay">
		<ion-content>
			<ion-list id="inbox-list">
				<ion-list-header class="headTitle">ABA Compliance Tracker</ion-list-header>
			</ion-list>

			<div *ngIf="type == 'Supervisors' || type == 'Supervisor';else rbt">
				<div *ngFor="let p of pages" id="sidenav">
					<ion-menu-toggle *ngIf="p.url">
						<ion-item [routerLink]="p.url" routerDirection="root" routerLinkActive="active">
							<ion-icon [name]="p.icon" slot="start"></ion-icon>
							<ion-label class="ion-text-wrap">{{p.title}}</ion-label>
						</ion-item>
					</ion-menu-toggle>

					<ion-item button *ngIf="p.children.length > 0" (click)="p.open = !p.open"
						[class.active-parent]="p.open" detail="false">
						<ion-icon slot="start" [name]="p.icon"></ion-icon>
						<ion-icon slot="end" name="chevron-forward-outline" *ngIf="!p.open"></ion-icon>
						<ion-icon slot="end" name="chevron-down-outline" *ngIf="p.open"></ion-icon>
						<ion-label class="ion-text-wrap">{{p.title}}</ion-label>
					</ion-item>

					<ion-list class="sub" *ngIf="p.open">
						<ion-menu-toggle>
							<ion-item class="sub-item" *ngFor="let sub of p.children" [routerLink]="sub.url" routerDirection="root" routerLinkActive="active">
								<ion-icon [name]="sub.icon" slot="start"></ion-icon>
								<ion-label>{{sub.title}}</ion-label>
							</ion-item>
						</ion-menu-toggle>
					</ion-list>
				</div>
			</div>

			<ng-template #rbt>
				<div *ngFor="let p of pagesr" id="sidenav">
					<ion-menu-toggle *ngIf="p.url">
						<ion-item [routerLink]="p.url" routerDirection="root" routerLinkActive="active">
							<ion-icon [name]="p.icon" slot="start"></ion-icon>
							<ion-label class="ion-text-wrap">{{p.title}}</ion-label>
						</ion-item>
					</ion-menu-toggle>
	
					<ion-item button *ngIf="p.children.length > 0" (click)="p.open = !p.open"
						[class.active-parent]="p.open" detail="false">
						<ion-icon slot="start" [name]="p.icon"></ion-icon>
						<ion-icon slot="end" name="chevron-forward-outline" *ngIf="!p.open"></ion-icon>
						<ion-icon slot="end" name="chevron-down-outline" *ngIf="p.open"></ion-icon>
						<ion-label class="ion-text-wrap">{{p.title}}</ion-label>
					</ion-item>
	
					<ion-list class="sub" *ngIf="p.open">
						<ion-menu-toggle>
							<ion-item class="sub-item" *ngFor="let sub of p.children" [routerLink]="sub.url" routerDirection="root" routerLinkActive="active">
								<ion-icon [name]="sub.icon" slot="start"></ion-icon>
								<ion-label class="ion-text-wrap">{{sub.title}}</ion-label>
							</ion-item>
						</ion-menu-toggle>
					</ion-list>
				</div>
			</ng-template>

			<ion-menu-toggle id="sidenav">
				<ion-item button (click)="logout()">
					<ion-icon name="log-out-outline" slot="start"></ion-icon>
					<ion-label>Logout</ion-label>
				</ion-item>
			</ion-menu-toggle>
		</ion-content>
	</ion-menu>
	<ion-router-outlet id="main-content"></ion-router-outlet>
</ion-app>